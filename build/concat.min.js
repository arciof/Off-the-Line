'use strict';var aa="function"==typeof Object.create?Object.create:function(a){function d(){}d.prototype=a;return new d},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var ea={za:!0},fa={};try{fa.__proto__=ea;ca=fa.za;break a}catch(a){}ca=!1}ba=ca?function(a,d){a.__proto__=d;if(a.__proto__!==d)throw new TypeError(a+" is not extensible");return a}:null}var ha=ba;
function b(a,d){a.prototype=aa(d.prototype);a.prototype.constructor=a;if(ha)ha(a,d);else for(var e in d)if("prototype"!=e)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(d,e);g&&Object.defineProperty(a,e,g)}else a[e]=d[e];a.gb=d.prototype}var ia="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,e){a!=Array.prototype&&a!=Object.prototype&&(a[d]=e.value)},c="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function ja(){ja=function(){};c.Symbol||(c.Symbol=ka)}var ka=function(){var a=0;return function(d){return"jscomp_symbol_"+(d||"")+a++}}();function la(){ja();var a=c.Symbol.iterator;a||(a=c.Symbol.iterator=c.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ia(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ma(this)}});la=function(){}}function ma(a){var d=0;return na(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})}
function na(a){la();a={next:a};a[c.Symbol.iterator]=function(){return this};return a}function f(a,d){if(d){var e=c;a=a.split(".");for(var g=0;g<a.length-1;g++){var h=a[g];h in e||(e[h]={});e=e[h]}a=a[a.length-1];g=e[a];d=d(g);d!=g&&null!=d&&ia(e,a,{configurable:!0,writable:!0,value:d})}}f("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});
f("String.prototype.endsWith",function(a){return a?a:function(a,e){if(null==this)throw new TypeError("The 'this' value for String.prototype.endsWith must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.endsWith must not be a regular expression");var d=this+"";a+="";void 0===e&&(e=d.length);e=Math.max(0,Math.min(e|0,d.length));for(var h=a.length;0<h&&0<e;)if(d[--e]!=a[--h])return!1;return 0>=h}});
function pa(a,d){la();a instanceof String&&(a+="");var e=0,g={next:function(){if(e<a.length){var h=e++;return{value:d(h,a[h]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g}f("Array.prototype.keys",function(a){return a?a:function(){return pa(this,function(a){return a})}});f("Object.values",function(a){return a?a:function(a){var d=[],g;for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&d.push(a[g]);return d}});
function qa(a,d,e,g,h,m,q,r){var n={V:!1};var u=(e-a)*(r-m)-(q-h)*(g-d);if(0!==u){var w=((r-m)*(q-a)+(h-q)*(r-d))/u;a=((d-g)*(q-a)+(e-a)*(r-d))/u;0<w&&1>w&&0<a&&1>a&&(n.x=h+(q-h)*a,n.y=m+(r-m)*a,n.time=a,n.V=!0)}return n}function k(){this.ea=this.ca=this.y=this.x=0;this.G=10;this.speed=400;this.Fa=.2;this.W=Number.MAX_SAFE_INTEGER;this.O=this.J=0;this.T=this.ta;this.ga={x:0,y:0};this.ma=1500;this.P=!1;this.angle=0;this.S=180}
k.prototype.update=function(a){this.ca=this.x;this.ea=this.y;this.angle+=this.S*a;void 0!==this.T&&this.T(a)};k.prototype.ta=function(a){this.J+=this.speed*a;0>this.J&&(this.J+=l.K[this.O]);this.J%=l.K[this.O];var d=ra(this.O,this.J);this.x=d.x;this.y=d.y;this.W+=a;p.X&&(this.W=0);this.W<=this.Fa&&(this.ga={x:d.qa*this.ma,y:d.ra*this.ma},this.speed=-this.speed,this.T=this.Da)};
k.prototype.Da=function(a){var d=this;this.x+=this.ga.x*a;this.y+=this.ga.y*a;p.entities.forEach(function(a){a instanceof t&&qa(d.ca,d.ea,d.x,d.y,a.va,a.xa,a.wa,a.ya).V&&d.U()});(this.x<.5*-v-this.G||this.x>.5*v+this.G||this.y<.5*-x-this.G||this.y>.5*x+this.G)&&this.U();this.P||(p.entities.forEach(function(a){if(a instanceof y){var e=a.x,h=a.y,m=d.ca,q=d.ea,r=d.x-m,n=d.y-q,u=Math.sqrt(r*r+n*n);r/=u;n/=u;var w=e-m,da=h-q,oa=Math.sqrt(w*w+da*da);w=w/oa*r+da/oa*n;e-=m+r*w*u;h-=q+n*w*u;Math.sqrt(e*e+
h*h)<=a.Ca&&a.U()}}),a=sa(this.ca,this.ea,this.x,this.y),a.V&&(a.group!==this.O||1<Math.abs(this.J-a.ja))&&(this.J=a.ja,this.O=a.group,a=ra(this.O,this.J),this.x=a.x,this.y=a.y,this.W=Number.MAX_SAFE_INTEGER,this.T=this.ta))};k.prototype.Aa=function(){};k.prototype.Y=function(){this.P||(p.B.save(),p.B.translate(this.x,this.y),p.B.rotate(this.angle),p.B.lineWidth=2,p.B.strokeStyle="#08F",p.B.shadowColor="#08F",p.B.beginPath(),p.B.rect(.5*-this.G,.5*-this.G,this.G,this.G),p.B.stroke(),p.B.restore())};
k.prototype.U=function(){z=Math.max(z-1,0);this.P=!0;this.T=this.Aa};function y(a,d,e,g,h){this.ba=a;this.da=d;this.x=a;this.y=d;this.G=8;this.Ca=20;this.angle=0;this.S=180;this.active=!0;this.offset=void 0!==e?e:0;this.aa=void 0!==g?g*Math.PI/180:0;this.sa=void 0!==h?h*Math.PI/180:0}y.prototype.update=function(a){this.angle-=this.S*a;if(0!==this.offset){var d=Math.sin(this.aa);this.x=this.ba+Math.cos(this.aa)*this.offset;this.y=this.da+d*this.offset;0!==this.sa&&(this.aa+=this.sa*a)}};
y.prototype.Y=function(){this.active&&(p.B.save(),p.B.translate(this.x,this.y),p.B.rotate(this.angle*Math.PI/180),p.B.lineWidth=2,p.B.strokeStyle="#FF0",p.B.shadowColor="#FF0",p.B.beginPath(),p.B.rect(.5*-this.G,.5*-this.G,this.G,this.G),p.B.stroke(),p.B.restore())};
y.prototype.U=function(){if(this.active){this.active=!1;var a=p,d=a.Z.createOscillator(),e=a.Ha.g;e*=Math.pow(2,7);d.type="triangle";d.frequency.setValueAtTime(e,a.Z.currentTime);d.connect(a.Z.destination);d.start();d.stop(a.Z.currentTime+.05)}};function t(a,d,e,g,h){this.ba=a;this.da=d;this.length=e;this.$=.5*e;this.angle=void 0!==g?g*Math.PI/180:0;this.S=void 0!==h?h*Math.PI/180:0;ta(this)}t.prototype.update=function(a){0!==this.S&&(this.angle+=this.S*a,ta(this))};
function ta(a){var d=Math.cos(a.angle),e=Math.sin(a.angle);a.va=a.ba-d*a.$;a.xa=a.da-e*a.$;a.wa=a.ba+d*a.$;a.ya=a.da+e*a.$}t.prototype.Y=function(){p.B.save();p.B.lineWidth=2;p.B.strokeStyle="#F00";p.B.shadowColor="#F00";p.B.beginPath();p.B.moveTo(this.va,this.xa);p.B.lineTo(this.wa,this.ya);p.B.stroke();p.B.restore()};
function A(){this.A=[];this.I=[];this.K=[];this.C=[];this.N=this.M=7;this.F();for(var a=0;a<this.A.length;a++){this.K.push(0);this.I.push([]);for(var d=0;d<this.A[a].length-1;d++){var e=this.A[a][d+1].x-this.A[a][d].x,g=this.A[a][d+1].y-this.A[a][d].y;e=Math.sqrt(e*e+g*g);this.K[a]+=e;this.I[a].push(e)}d=this.A[a][0].x-this.A[a][this.A[a].length-1].x;e=this.A[a][0].y-this.A[a][this.A[a].length-1].y;d=Math.sqrt(d*d+e*e);this.K[a]+=d;this.I[a].push(d)}this.D()}A.prototype.F=function(){};
A.prototype.D=function(){};A.prototype.update=function(a){!B||ua()||C.P||(this.N=Math.max(this.N-a,0),0>=this.N&&C.U())};A.prototype.Y=function(){p.B.lineWidth=2;p.B.strokeStyle="#FFF";p.B.shadowColor="#FFF";for(var a=0;a<this.A.length;a++){p.B.beginPath();p.B.moveTo(this.A[a][0].x,this.A[a][0].y);for(var d=1;d<this.A[a].length;d++)p.B.lineTo(this.A[a][d].x,this.A[a][d].y);p.B.lineTo(this.A[a][0].x,this.A[a][0].y);p.B.stroke()}};
function ra(a,d){var e=l;d%=e.K[a];for(var g=0,h=0;h<e.I[a].length;h++){var m=g+e.I[a][h];if(d>=g&&d<m){var q=(d-g)/e.I[a][h];d=h;g=(h+1)%e.A[a].length;m=e.A[a][d].x+(e.A[a][g].x-e.A[a][d].x)*q;q=e.A[a][d].y+(e.A[a][g].y-e.A[a][d].y)*q;return void 0!==e.C[a]&&void 0!==e.C[a][h]?{x:m,y:q,qa:e.C[a][h].x,ra:e.C[a][h].y}:{x:m,y:q,qa:(e.A[a][g].y-e.A[a][d].y)/e.I[a][h],ra:-((e.A[a][g].x-e.A[a][d].x)/e.I[a][h])}}g=m}return{x:e.A[0][0].x,y:e.A[0][0].y}}
function sa(a,d,e,g){for(var h=l,m=0;m<h.I.length;m++)for(var q=0,r=0;r<h.I[m].length;r++){var n=r,u=(r+1)%h.A[m].length;n=qa(a,d,e,g,h.A[m][n].x,h.A[m][n].y,h.A[m][u].x,h.A[m][u].y);if(n.V)return n.ja=q+h.I[m][r]*(1-n.time),n.group=m,n;q+=h.I[m][r]}return{V:!1}}function ua(){var a=!0;p.entities.forEach(function(d){d instanceof y&&d.active&&(a=!1)});return a}function D(a){A.apply(this,arguments)}b(D,A);
D.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};D.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function F(a){A.apply(this,arguments)}b(F,A);
F.prototype.F=function(){this.A.push([]);this.A[0].push({x:-200,y:100});this.A[0].push({x:200,y:100});this.A[0].push({x:200,y:-100});this.A[0].push({x:-200,y:-100})};F.prototype.D=function(){for(var a=[-150,-75,0,75,150],d=[-60,-20,20,60],e=0;e<d.length;e++)for(var g=0;g<a.length;g++)E(new y(a[g],d[e]))};function G(a){A.apply(this,arguments)}b(G,A);G.prototype.F=function(){this.A.push([]);for(var a=4*Math.PI/180,d=0;90>d;d++){var e=360-d*a;this.A[0].push({x:150*Math.cos(e),y:150*Math.sin(e)})}};
G.prototype.D=function(){E(new y(0,0));E(new y(0,0,50,90,70));E(new y(0,0,100,90,70));E(new y(0,0,50,270,70));E(new y(0,0,100,270,70))};function H(a){A.apply(this,arguments)}b(H,A);H.prototype.F=function(){this.A.push([]);this.A[0].push({x:-60,y:150});this.A[0].push({x:60,y:150});this.A[0].push({x:60,y:-150});this.A[0].push({x:-60,y:-150})};H.prototype.D=function(){E(new y(0,0));E(new y(0,50));E(new y(0,-50));E(new t(-35,25,50,0));E(new t(35,-25,50,0));E(new t(35,75,50,0));E(new t(-35,-75,50,0))};
function I(a){A.apply(this,arguments)}b(I,A);I.prototype.F=function(){this.A.push([]);this.A[0].push({x:-200,y:0});this.A[0].push({x:0,y:200});this.A[0].push({x:200,y:0});this.A[0].push({x:0,y:-200});this.N=this.M=12};
I.prototype.D=function(){E(new t(0,0,250,0,40));E(new y(0,120));E(new y(30,90));E(new y(60,60));E(new y(90,30));E(new y(-30,90));E(new y(-60,60));E(new y(-90,30));E(new y(-120,0));E(new y(-90,-30));E(new y(-60,-60));E(new y(-30,-90));E(new y(0,-120));E(new y(30,-90));E(new y(60,-60));E(new y(90,-30));E(new y(120,0))};function J(a){A.apply(this,arguments)}b(J,A);
J.prototype.F=function(){this.A.push([]);this.A[0].push({x:-200,y:200});this.A[0].push({x:-50,y:200});this.A[0].push({x:-50,y:20});this.A[0].push({x:200,y:20});this.A[0].push({x:200,y:-200});this.A[0].push({x:50,y:-200});this.A[0].push({x:50,y:-20});this.A[0].push({x:-200,y:-20})};
J.prototype.D=function(){E(new y(0,0));E(new y(-30,0));E(new y(-60,0));E(new y(30,0));E(new y(60,0));E(new y(90,0));E(new y(-90,0));E(new y(120,0));E(new y(-120,0));E(new t(-125,160,150));E(new t(125,-160,150));E(new y(-125,180));E(new y(125,-180));E(new t(-60,40,40,90));E(new t(60,-40,40,90))};function K(a){A.apply(this,arguments)}b(K,A);
K.prototype.F=function(){this.A.push([]);this.A[0].push({x:50,y:-100});this.A[0].push({x:-50,y:-100});this.C.push([]);this.C[0].push({x:0,y:1});this.C[0].push({x:0,y:1});this.A.push([]);this.A[1].push({x:-125,y:100});this.A[1].push({x:-25,y:100});this.C.push([]);this.C[1].push({x:0,y:-1});this.C[1].push({x:0,y:-1});this.A.push([]);this.A[2].push({x:125,y:100});this.A[2].push({x:25,y:100});this.C.push([]);this.C[2].push({x:0,y:-1});this.C[2].push({x:0,y:-1})};
K.prototype.D=function(){E(new y(-35,-50));E(new y(-35,-25));E(new y(-35,0));E(new y(-35,25));E(new y(-35,50));E(new y(35,-50));E(new y(35,-25));E(new y(35,0));E(new y(35,25));E(new y(35,50))};function L(a){A.apply(this,arguments)}b(L,A);
L.prototype.F=function(){this.A.push([]);this.A[0].push({x:-250,y:-100});this.A[0].push({x:250,y:-100});this.C.push([]);this.C[0].push({x:0,y:1});this.C[0].push({x:0,y:1});this.A.push([]);this.A[1].push({x:-140,y:100});this.A[1].push({x:-110,y:100});this.C.push([]);this.C[1].push({x:0,y:-1});this.C[1].push({x:0,y:-1});this.A.push([]);this.A[2].push({x:140,y:100});this.A[2].push({x:110,y:100});this.C.push([]);this.C[2].push({x:0,y:-1});this.C[2].push({x:0,y:-1});this.A.push([]);this.A[3].push({x:-15,
y:100});this.A[3].push({x:15,y:100});this.C.push([]);this.C[3].push({x:0,y:-1});this.C[3].push({x:0,y:-1});this.N=this.M=12};L.prototype.D=function(){E(new y(-125,-50));E(new y(-125,0));E(new y(-125,50));E(new y(0,-50));E(new y(0,0));E(new y(0,50));E(new y(125,-50));E(new y(125,0));E(new y(125,50))};function M(a){A.apply(this,arguments)}b(M,A);
M.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};M.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function N(a){A.apply(this,arguments)}b(N,A);
N.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};N.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function O(a){A.apply(this,arguments)}b(O,A);
O.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};O.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function P(a){A.apply(this,arguments)}b(P,A);
P.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};P.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function Q(a){A.apply(this,arguments)}b(Q,A);
Q.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};Q.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function R(a){A.apply(this,arguments)}b(R,A);
R.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};R.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function S(a){A.apply(this,arguments)}b(S,A);
S.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};S.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function T(a){A.apply(this,arguments)}b(T,A);
T.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};T.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function U(a){A.apply(this,arguments)}b(U,A);
U.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};U.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function V(a){A.apply(this,arguments)}b(V,A);
V.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};V.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function W(a){A.apply(this,arguments)}b(W,A);
W.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};W.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};function X(a){A.apply(this,arguments)}b(X,A);
X.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};X.prototype.D=function(){E(new y(0,0));E(new y(-50,0));E(new y(50,0));E(new y(-25,0));E(new y(25,0));E(new y(0,50));E(new y(-50,50));E(new y(50,50));E(new y(-25,50));E(new y(25,50));E(new y(0,-50));E(new y(-50,-50));E(new y(50,-50));E(new y(-25,-50));E(new y(25,-50))};
function va(){var a=v,d=x;this.canvas=document.createElement("canvas");this.canvas.setAttribute("width",a);this.canvas.setAttribute("height",d);this.canvas.style.width=1*a+"px";this.canvas.style.height=1*d+"px";this.canvas.style.backgroundColor="black";document.getElementById("game").appendChild(this.canvas);this.B=this.canvas.getContext("2d");this.width=a;this.height=d;this.scale=1;this.entities=[];this.ka=this.fa=!1;wa(this);this.Z=new (window.AudioContext||window.webkitAudioContext);this.Ha={c:16.35,
"c#":17.32,d:18.35,"d#":19.45,e:20.6,f:21.83,"f#":23.12,g:24.5,"g#":25.96,a:27.5,"a#":29.14,b:30.87};xa(this);this.la(performance.now())}
function xa(a){a.H={};[].forEach(function(d){a.H[d]={};a.H[d].loaded=!1;d.endsWith(".png")||d.endsWith(".jpg")?(a.H[d].data=new Image,a.H[d].data.onload=function(){return a.H[d].loaded=!0},a.H[d].data.src=d):d.endsWith(".wav")||d.endsWith(".mp3")?(a.H[d].data=new Audio,a.H[d].data.src=d,a.H[d].data.load(),a.H[d].loaded=!0):console.assert(!1,"Unable to load "+d+" - unknown type")})}function ya(a){return 0<Object.keys(a.H).length&&0==Object.values(a.H).every(function(a){return a.loaded})}
va.prototype.la=function(a){window.requestAnimationFrame(this.la.bind(this));if(!ya(this)){var d=Math.min((a-(this.Ea||a))/1E3,.2);this.Ea=a;this.B.clearRect(-this.width,-this.height,2*this.width,2*this.height);void 0!==this.state&&this.state(d);za(this);Aa(this,d);Ba(this);void 0!==this.ua&&this.ua(d);Ca(this)}};
function E(a){var d=p;Object.defineProperty(a,"z",{set:function(e){a.ia=e;d.fa=!0},get:function(){return a.ia}});a.ia=0<d.entities.length?d.entities[d.entities.length-1].z+1:0;d.entities.push(a)}function Aa(a,d){a.entities.forEach(function(a){void 0!==a.update&&a.update(d)});a.ka&&(a.entities=a.entities.filter(function(a){return!0!==a.bb}),a.ka=!1)}function Ba(a){a.entities.forEach(function(a){void 0!==a.Y&&a.Y()})}function za(a){a.fa&&(a.entities.sort(function(a,e){return a.z-e.z}),a.fa=!1)}
function Da(a){var d=p,e=void 0!==a.angle?a.angle*Math.PI/180:0,g=void 0!==a.Ba?a.Ba:"Arial",h=void 0!==a.fontSize?a.fontSize:12,m=void 0!==a.fontStyle?a.fontStyle:"",q=void 0!==a.color?a.color:"#FFF",r=void 0!==a.textAlign?a.textAlign.toLowerCase():"left",n=void 0!==a.textBaseline?a.textBaseline.toLowerCase():"bottom";d.B.save();d.B.translate(a.x,a.y);d.B.rotate(e);d.B.font=m+" "+h+"px "+g;d.B.fillStyle=q;d.B.textAlign=r;d.B.textBaseline=n;d.B.fillText(a.text,0,0);d.B.restore()}
function wa(a){a.Ga={x:0,y:0};a.R={x:0,y:0};a.na=!1;a.oa=!1;a.X=!1;a.pa=!1;window.addEventListener("mousemove",function(d){a.R.x+=d.eb;a.R.y+=d.fb;a.Ga={x:d.clientX,y:d.clientY}});window.addEventListener("mousedown",function(d){0===d.button?(a.na=!0,a.X=!0):2===d.button&&(a.oa=!0,a.pa=!0)});window.addEventListener("mouseup",function(d){0===d.button?a.na=!1:2===d.button&&(a.oa=!1)});a.ha={a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",
t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right"," ":"space",escape:"escape",control:"ctrl",shift:"shift",alt:"alt",tab:"tab",enter:"enter",backspace:"backspace"};a.keys={};a.L={};Object.keys(a.ha).forEach(function(d){return a.keys[d]=!1});window.addEventListener("keydown",function(d){Ea(a,d,!0)});window.addEventListener("keyup",function(d){Ea(a,d,!1)})}
function Ea(a,d,e){var g=d.key.toLowerCase();void 0!==a.ha[g]&&(g=a.ha[g],a.L[g]=!1===a.keys[g]||void 0===a.keys[g],a.keys[g]=e,"up"!==g&&"down"!==g&&"left"!==g&&"right"!==g||d.preventDefault())}function Ca(a){a.R.x=0;a.R.y=0;a.X=!1;a.pa=!1;Object.keys(a.L).forEach(function(d){a.L[d]=!1})}var v=640,x=480,p=new va;p.state=Fa;var l,C,Y=0,Ga=0,z=5,B=!0,Ha={Ia:D,Ja:F,Ka:G,La:H,Ma:I,Na:J,Oa:K,Pa:L,Qa:M,Ra:N,Sa:O,Ta:P,Ua:Q,Va:R,Wa:S,Xa:T,Ya:U,Za:V,$a:W,ab:X};
function Fa(){p.state=Ia;p.ua=Ja;Z();p.B.translate(.5*v,.5*x);p.B.scale(1,-1);p.B.shadowBlur=10}function Ia(a){p.L.right?(Y=(Y+1)%Object.keys(Ha).length,Z()):p.L.left?(Y--,0>Y&&(Y=Object.keys(Ha).length-1),Z()):p.L.r?Z():p.L.cb&&(B=!B)&&(l.N=l.M);if(C.P||ua())Ga-=a,0>=Ga&&(0===z?p.state=Ka:(C.P||(Y=(Y+1)%Object.keys(Ha).length,0===Y%10&&(z=Math.min(z+1,5))),Z()))}
function Z(){var a=Y;p.entities=[];C=new k;E(C);0==a?l=new D:1==a?l=new F:2==a?l=new G:3==a?l=new H:4==a?l=new I:5==a?l=new J:6==a?l=new K:7==a?l=new L:8==a?l=new M:9==a?l=new N:10==a?l=new O:11==a?l=new P:12==a?l=new Q:13==a?l=new R:14==a?l=new S:15==a?l=new T:16==a?l=new U:17==a?l=new V:18==a?l=new W:19==a&&(l=new X);E(l);Ga=.5}
function Ja(){p.B.save();p.B.setTransform(1,0,0,1,0,0);if(B){var a=x-30;p.B.fillStyle="#FFF";p.B.fillRect(10,a,l.N/l.M*(v-20),20)}p.B.shadowColor="#FFF";Da({text:"Level "+(Y+1),x:10,y:30,fontSize:24,fontStyle:"bold"});for(a=0;5>a;a++)a<z?(p.B.lineWidth=3,p.B.strokeStyle="#08F",p.B.shadowColor="#08F",p.B.save(),p.B.translate(540+20*a,18),p.B.beginPath(),p.B.rect(-5,-5,10,10),p.B.stroke(),p.B.restore()):(p.B.shadowColor="#F00",Da({text:"x",x:536+19.5*a,y:30,fontSize:24,fontStyle:"bold",color:"#F00"}));
0===z&&(p.B.shadowColor="#111",p.B.fillStyle="#111",p.B.fillRect(0,52,v,50),p.B.shadowColor="#F00",Da({text:"GAME OVER",x:.5*v,y:100,fontSize:40,fontStyle:"bold",color:"#F00",textAlign:"center"}));p.B.restore()}function Ka(){p.X&&(z=5,Y=0,Z(),p.X=!1,p.state=Ia)};