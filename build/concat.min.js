'use strict';var aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={Xa:!0},ea={};try{ea.__proto__=da;ca=ea.Xa;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=ba;
function c(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var e in b)if("prototype"!=e)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(b,e);g&&Object.defineProperty(a,e,g)}else a[e]=b[e];a.Hb=b.prototype}var ha="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)},d="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function ia(){ia=function(){};d.Symbol||(d.Symbol=ja)}var ja=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();function ka(){ia();var a=d.Symbol.iterator;a||(a=d.Symbol.iterator=d.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ha(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(this)}});ka=function(){}}function la(a){var b=0;return ma(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}
function ma(a){ka();a={next:a};a[d.Symbol.iterator]=function(){return this};return a}function na(a,b){if(b){var e=d;a=a.split(".");for(var g=0;g<a.length-1;g++){var h=a[g];h in e||(e[h]={});e=e[h]}a=a[a.length-1];g=e[a];b=b(g);b!=g&&null!=b&&ha(e,a,{configurable:!0,writable:!0,value:b})}}na("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});
na("String.prototype.endsWith",function(a){return a?a:function(a,e){if(null==this)throw new TypeError("The 'this' value for String.prototype.endsWith must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.endsWith must not be a regular expression");var b=this+"";a+="";void 0===e&&(e=b.length);e=Math.max(0,Math.min(e|0,b.length));for(var h=a.length;0<h&&0<e;)if(b[--e]!=a[--h])return!1;return 0>=h}});
function oa(a,b){ka();a instanceof String&&(a+="");var e=0,g={next:function(){if(e<a.length){var h=e++;return{value:b(h,a[h]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g}na("Array.prototype.keys",function(a){return a?a:function(){return oa(this,function(a){return a})}});na("Object.values",function(a){return a?a:function(a){var b=[],g;for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&b.push(a[g]);return b}});
function pa(a,b,e,g,h,m,r,t){var p={W:!1},z=(a-r)*(g-t)-(b-t)*(e-r),H=(a-h)*(g-m)-(b-m)*(e-h);0>z*H&&(h=(h-a)*(t-b)-(m-b)*(r-a),z=h+H-z,0>h*z&&(p.time=h/(h-z),p.x=a+p.time*(e-a),p.y=b+p.time*(g-b),p.W=!0));return p}function f(a,b){return a.x*b.x+a.y*b.y}function qa(){var a=window.localStorage.getItem("best_"+k);return null!==a?parseInt(a,10):0}function ra(){l.B.setTransform(1,0,0,1,0,0)}
function sa(){l.B.setTransform(1,0,0,1,0,0);l.B.translate(.5*n,.5*q);l.B.translate(-u+u*Math.random()*2,-u+u*Math.random()*2);l.B.scale(ta,-ta)}var u=0,ua=0,v=0,va=0;function wa(a){0<v&&(v-=a,u=Math.max(v/va*ua,0))}var ta=1,xa=0;function ya(a){0<xa&&(xa-=a,a=xa/.2,ta=Math.max(1+a*a*a*.15,1))}var za=[];
function Aa(a){za.forEach(function(b,e){var g=b.la/.5,h=1-g*g*g,m=b.x+Math.cos(b.La)*b.Ha*h,r=b.y+Math.sin(b.La)*b.Ha*h;h=b.angle+1*Math.PI*h;0==e%2&&(h=-h);l.B.globalAlpha=.25>g?g/.25:1;l.B.save();l.B.translate(m,r);l.B.rotate(h);e=l.B.lineWidth;l.B.lineWidth=4;l.B.strokeStyle="#08F";l.B.shadowColor="#08F";l.B.beginPath();l.B.moveTo(-6,0);l.B.lineTo(6,0);l.B.stroke();l.B.restore();l.B.lineWidth=e;l.B.globalAlpha=1;b.la-=a;0>=b.la&&(b.T=!0)});za=za.filter(function(a){return!0!==a.T})}
function Ba(a,b){for(var e=0;10>e;e++)za.push({x:a,y:b,la:.5,T:!1,angle:Math.random()*Math.PI*2,La:360*Math.random()*Math.PI/180,Ha:15+40*Math.random()})}
function w(){this.na=this.ma=this.da=this.ca=this.y=this.x=0;this.H=12;this.speed=0===k?250:400;this.fb=.2;this.$=Number.MAX_SAFE_INTEGER;this.U=this.L=0;this.Z=this.Qa;this.ra={x:0,y:0};this.Ga=1500;this.S=!1;this.angle=0;this.Y=180;this.Va=this.Sa=0;var a=Ca(this.U,this.L);this.x=a.x;this.y=a.y;this.ma=this.x;this.na=this.y;this.ca=this.x;this.da=this.y;this.Ra=this.x;this.Ua=this.y}
w.prototype.update=function(a){this.ma=this.ca;this.na=this.da;this.ca=this.x;this.da=this.y;this.angle+=this.Y*a;void 0!==this.Z&&this.Z(a)};
w.prototype.Qa=function(a){var b=this;this.L+=this.speed*a;0>this.L&&(this.L+=x.P[this.U]);this.L%=x.P[this.U];var e=Ca(this.U,this.L);this.x=e.x;this.y=e.y;this.Sa=e.wa;this.Va=e.Aa;l.entities.forEach(function(a){a instanceof y&&(a=pa(b.ma,b.na,b.x,b.y,a.ta,a.xa,a.ua,a.ya),a.W&&(Ba(a.x,a.y),b.V()))});if(!this.S){this.$+=a;if(l.N||l.G.left||l.G.right||l.G.Ib||l.G.Cb||l.G.Gb)this.$=0;this.$<=this.fb&&(this.ra={x:e.Na*this.Ga,y:e.Oa*this.Ga},this.Ra=this.x,this.Ua=this.y,this.Z=this.cb,B("a",5,.01),
B("a#",5,.01,.01),B("b",5,.01,.02))}};
w.prototype.cb=function(a){var b=this;this.x+=this.ra.x*a;this.y+=this.ra.y*a;l.entities.forEach(function(a){a instanceof y&&(a=pa(b.ma,b.na,b.x,b.y,a.ta,a.xa,a.ua,a.ya),a.W&&(Ba(a.x,a.y),b.V()))});(this.x<.5*-n-this.H||this.x>.5*n+this.H||this.y<.5*-q-this.H||this.y>.5*q+this.H)&&this.V();if(!this.S&&(l.entities.forEach(function(a){if(a instanceof C){var e=b.ca,g=b.da,h=b.x,p=b.y,z=a.x,H=a.y;var A={x:h-e,y:p-g};e={x:z-e,y:H-g};h={x:z-h,y:H-p};p=f(e,A);0>=p?A=f(e,e):(A=f(A,A),A=p>=A?f(h,h):f(e,e)-
p*p/A);A<=a.ab&&a.V()}}),a=Da(this.ca,this.da,this.x,this.y),a.W)){var e=a.x-this.Ra,g=a.y-this.Ua;5<e*e+g*g&&(this.L=a.Za,this.U=a.group,a=Ca(this.U,this.L),this.x=a.x,this.y=a.y,this.$=Number.MAX_SAFE_INTEGER,this.Z=this.Qa,0>a.wa*this.Sa+a.Aa*this.Va&&(this.speed=-this.speed),u=ua=2.5,v=va=.15,B("a",4,.01),B("a#",4,.01,.01))}};w.prototype.Ya=function(){};
w.prototype.ba=function(){if(!this.S){l.B.save();l.B.translate(this.x,this.y);l.B.rotate(this.angle);var a=l.B.lineWidth;l.B.lineWidth=4;l.B.strokeStyle="#08F";l.B.shadowColor="#08F";l.B.beginPath();l.B.rect(.5*-this.H,.5*-this.H,this.H,this.H);l.B.stroke();l.B.restore();l.B.lineWidth=a}};
w.prototype.V=function(){D=Math.max(D-1,0);this.S=!0;this.Z=this.Ya;u=ua=5;v=va=.2;B("a",1,.2,0,"square");var a=l,b=a.J.createBufferSource();b.buffer=a.Ma;b.loop=!0;b.start(a.J.currentTime+0);b.stop(a.J.currentTime+0+.05);b.connect(a.J.destination)};
function C(a,b,e,g,h){this.va=a;this.za=b;this.x=a;this.y=b;this.H=8;this.Fa=20;this.ab=this.Fa*this.Fa;this.angle=0;this.Y=180;this.active=!0;this.offset=void 0!==e?e:0;this.ja=void 0!==g?g*Math.PI/180:0;this.Pa=void 0!==h?h*Math.PI/180:0;this.ea=0;this.Ca=.5}C.prototype.update=function(a){this.angle-=this.Y*a;if(0!==this.offset){var b=Math.sin(this.ja);this.x=this.va+Math.cos(this.ja)*this.offset;this.y=this.za+b*this.offset;0!==this.Pa&&(this.ja+=this.Pa*a)}this.active||(this.ea+=a)};
C.prototype.ba=function(){if(this.active||this.ea<this.Ca){var a=l.B.globalAlpha,b=1;if(!this.active){var e=1-this.ea/this.Ca;e*=e*e*e*e;b+=3*(1-e);l.B.globalAlpha=e}l.B.save();l.B.translate(this.x,this.y);l.B.rotate(this.angle*Math.PI/180);l.B.scale(b,b);l.B.lineWidth=2;l.B.strokeStyle="#FF0";l.B.shadowColor="#FF0";l.B.beginPath();l.B.rect(.5*-this.H,.5*-this.H,this.H,this.H);l.B.stroke();l.B.restore();l.B.globalAlpha=a}};C.prototype.V=function(){this.active&&(this.active=!1,B("g",7,.025))};
function y(a,b,e,g,h,m,r,t,p){this.va=a;this.za=b;this.length=e;this.fa=.5*e;this.angle=void 0!==g?g*Math.PI/180:0;this.Y=void 0!==h?h*Math.PI/180:0;this.Ta=void 0!==m?m:0;this.Wa=void 0!==r?r:0;this.aa=void 0!==t?t:0;this.bb=void 0!==p?p:0;this.R=this.aa;this.ia=this.ga=!0;this.oa=0;Ea(this)}
y.prototype.update=function(a){var b=!1;0!==this.Y&&(this.angle+=this.Y*a,b=!0);0===this.Ta&&0===this.Wa||0===this.aa||(this.oa=this.ga?this.ia?1-this.R/this.aa:this.R/this.aa:this.ia?0:1,this.R-=a,0>=this.R&&(this.ga?(this.R=this.bb,this.ia=!this.ia):this.R=this.aa,this.ga=!this.ga),b=!0);b&&Ea(this)};function Ea(a){var b=Math.cos(a.angle),e=Math.sin(a.angle),g=a.va+a.Ta*a.oa,h=a.za+a.Wa*a.oa;a.ta=g-b*a.fa;a.xa=h-e*a.fa;a.ua=g+b*a.fa;a.ya=h+e*a.fa}
y.prototype.ba=function(){l.B.save();l.B.lineWidth=2;l.B.strokeStyle="#F00";l.B.shadowColor="#F00";l.B.beginPath();l.B.moveTo(this.ta,this.xa);l.B.lineTo(this.ua,this.ya);l.B.stroke();l.B.restore()};
function E(){this.A=[];this.K=[];this.P=[];this.C=[];this.O=this.M=7;this.F();for(var a=0;a<this.A.length;a++){this.P.push(0);this.K.push([]);for(var b=0;b<this.A[a].length-1;b++){var e=this.A[a][b+1].x-this.A[a][b].x,g=this.A[a][b+1].y-this.A[a][b].y;e=Math.sqrt(e*e+g*g);this.P[a]+=e;this.K[a].push(e)}b=this.A[a][0].x-this.A[a][this.A[a].length-1].x;e=this.A[a][0].y-this.A[a][this.A[a].length-1].y;b=Math.sqrt(b*b+e*e);this.P[a]+=b;this.K[a].push(b)}this.D()}E.prototype.F=function(){};
E.prototype.D=function(){};E.prototype.update=function(a){2!=k||Fa()||F.S||(this.O=Math.max(this.O-a,0),0>=this.O&&(Ba(F.x,F.y),F.V()))};E.prototype.ba=function(){l.B.lineWidth=2;l.B.strokeStyle="#FFF";l.B.shadowColor="#FFF";for(var a=0;a<this.A.length;a++){l.B.beginPath();l.B.moveTo(this.A[a][0].x,this.A[a][0].y);for(var b=1;b<this.A[a].length;b++)l.B.lineTo(this.A[a][b].x,this.A[a][b].y);l.B.lineTo(this.A[a][0].x,this.A[a][0].y);l.B.stroke()}};
function Ca(a,b){var e=x;b%=e.P[a];for(var g=0,h=0;h<e.K[a].length;h++){var m=g+e.K[a][h];if(b>=g&&b<m){var r=(b-g)/e.K[a][h];g=h;m=(h+1)%e.A[a].length;var t=e.A[a][m].x-e.A[a][g].x,p=e.A[a][m].y-e.A[a][g].y;b=e.A[a][g].x+t*r;r=e.A[a][g].y+p*r;if(void 0!==e.C[a]&&void 0!==e.C[a][h])return{x:b,y:r,Na:e.C[a][h].x,Oa:e.C[a][h].y,wa:t,Aa:p};t=(e.A[a][m].x-e.A[a][g].x)/e.K[a][h];a=(e.A[a][m].y-e.A[a][g].y)/e.K[a][h];return{x:b,y:r,Na:a,Oa:-t,wa:t,Aa:a}}g=m}return{x:e.A[0][0].x,y:e.A[0][0].y}}
function Da(a,b,e,g){for(var h=x,m=0;m<h.K.length;m++)for(var r=0,t=0;t<h.K[m].length;t++){var p=t,z=(t+1)%h.A[m].length;p=pa(h.A[m][p].x,h.A[m][p].y,h.A[m][z].x,h.A[m][z].y,a,b,e,g);if(p.W)return p.Za=r+h.K[m][t]*p.time,p.group=m,p;r+=h.K[m][t]}return{W:!1}}function Fa(){var a=!0;l.entities.forEach(function(b){b instanceof C&&b.active&&(a=!1)});return a}function G(a){E.apply(this,arguments)}c(G,E);
G.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100});this.name="THE BOX"};G.prototype.D=function(){I(new C(0,0));I(new C(-50,0));I(new C(50,0));I(new C(-25,0));I(new C(25,0));I(new C(0,50));I(new C(-50,50));I(new C(50,50));I(new C(-25,50));I(new C(25,50));I(new C(0,-50));I(new C(-50,-50));I(new C(50,-50));I(new C(-25,-50));I(new C(25,-50))};function J(a){E.apply(this,arguments)}c(J,E);
J.prototype.F=function(){this.A.push([]);this.A[0].push({x:-200,y:100});this.A[0].push({x:200,y:100});this.A[0].push({x:200,y:-100});this.A[0].push({x:-200,y:-100});this.name="PEGBOARD"};J.prototype.D=function(){for(var a=[-150,-75,0,75,150],b=[-60,-20,20,60],e=0;e<b.length;e++)for(var g=0;g<a.length;g++)I(new C(a[g],b[e]))};function K(a){E.apply(this,arguments)}c(K,E);
K.prototype.F=function(){this.A.push([]);for(var a=4*Math.PI/180,b=0;90>b;b++){var e=2*Math.PI-b*a;this.A[0].push({x:150*Math.cos(e),y:150*Math.sin(e)})}this.name="ORBIT"};K.prototype.D=function(){I(new C(0,0));I(new C(0,0,50,90,70));I(new C(0,0,100,90,70));I(new C(0,0,50,270,70));I(new C(0,0,100,270,70))};function L(a){E.apply(this,arguments)}c(L,E);
L.prototype.F=function(){this.A.push([]);this.A[0].push({x:-60,y:150});this.A[0].push({x:60,y:150});this.A[0].push({x:60,y:-150});this.A[0].push({x:-60,y:-150});this.name="NEEDLE"};L.prototype.D=function(){I(new C(0,0));I(new C(0,50));I(new C(0,-50));I(new y(-40,25,40,0));I(new y(40,-25,40,0));I(new y(40,75,40,0));I(new y(-40,-75,40,0))};function M(a){E.apply(this,arguments)}c(M,E);
M.prototype.F=function(){this.A.push([]);this.A[0].push({x:-200,y:0});this.A[0].push({x:0,y:200});this.A[0].push({x:200,y:0});this.A[0].push({x:0,y:-200});this.O=this.M=12;this.name="PATIENCE"};
M.prototype.D=function(){I(new y(0,0,250,0,40));I(new C(0,120));I(new C(30,90));I(new C(60,60));I(new C(90,30));I(new C(-30,90));I(new C(-60,60));I(new C(-90,30));I(new C(-120,0));I(new C(-90,-30));I(new C(-60,-60));I(new C(-30,-90));I(new C(0,-120));I(new C(30,-90));I(new C(60,-60));I(new C(90,-30));I(new C(120,0))};function N(a){E.apply(this,arguments)}c(N,E);
N.prototype.F=function(){this.A.push([]);this.A[0].push({x:-200,y:200});this.A[0].push({x:-50,y:200});this.A[0].push({x:-50,y:20});this.A[0].push({x:200,y:20});this.A[0].push({x:200,y:-200});this.A[0].push({x:50,y:-200});this.A[0].push({x:50,y:-20});this.A[0].push({x:-200,y:-20});this.name="BOOMERANG"};
N.prototype.D=function(){I(new C(0,0));I(new C(-30,0));I(new C(-60,0));I(new C(30,0));I(new C(60,0));I(new C(90,0));I(new C(-90,0));I(new C(120,0));I(new C(-120,0));I(new y(-125,160,150));I(new y(125,-160,150));I(new C(-125,180));I(new C(125,-180));I(new y(-60,40,40,90));I(new y(60,-40,40,90))};function O(a){E.apply(this,arguments)}c(O,E);
O.prototype.F=function(){this.A.push([]);this.A[0].push({x:50,y:-100});this.A[0].push({x:-50,y:-100});this.C.push([]);this.C[0].push({x:0,y:1});this.C[0].push({x:0,y:1});this.A.push([]);this.A[1].push({x:-125,y:100});this.A[1].push({x:-25,y:100});this.C.push([]);this.C[1].push({x:0,y:-1});this.C[1].push({x:0,y:-1});this.A.push([]);this.A[2].push({x:125,y:100});this.A[2].push({x:25,y:100});this.C.push([]);this.C[2].push({x:0,y:-1});this.C[2].push({x:0,y:-1});this.name="SPLITTER"};
O.prototype.D=function(){I(new C(-35,-50));I(new C(-35,-25));I(new C(-35,0));I(new C(-35,25));I(new C(-35,50));I(new C(35,-50));I(new C(35,-25));I(new C(35,0));I(new C(35,25));I(new C(35,50))};function P(a){E.apply(this,arguments)}c(P,E);
P.prototype.F=function(){this.A.push([]);this.A[0].push({x:-250,y:-100});this.A[0].push({x:250,y:-100});this.C.push([]);this.C[0].push({x:0,y:1});this.C[0].push({x:0,y:1});this.A.push([]);this.A[1].push({x:-140,y:100});this.A[1].push({x:-110,y:100});this.C.push([]);this.C[1].push({x:0,y:-1});this.C[1].push({x:0,y:-1});this.A.push([]);this.A[2].push({x:140,y:100});this.A[2].push({x:110,y:100});this.C.push([]);this.C[2].push({x:0,y:-1});this.C[2].push({x:0,y:-1});this.A.push([]);this.A[3].push({x:-15,
y:100});this.A[3].push({x:15,y:100});this.C.push([]);this.C[3].push({x:0,y:-1});this.C[3].push({x:0,y:-1});this.O=this.M=12;this.name="TRIPLE SHOT"};P.prototype.D=function(){I(new C(-125,-50));I(new C(-125,0));I(new C(-125,50));I(new C(0,-50));I(new C(0,0));I(new C(0,50));I(new C(125,-50));I(new C(125,0));I(new C(125,50))};function Q(a){E.apply(this,arguments)}c(Q,E);
Q.prototype.F=function(){this.A.push([]);for(var a=150,b=90,e=360/b*Math.PI/180,g=0;g<b;g++){var h=2*Math.PI-g*e;this.A[0].push({x:Math.cos(h)*a,y:Math.sin(h)*a})}this.A.push([]);a=100;b=45;e=360/b*Math.PI/180;for(g=0;g<b;g++)h=g*e,this.A[1].push({x:Math.cos(h)*a,y:Math.sin(h)*a});this.name="DONUT"};
Q.prototype.D=function(){I(new C(0,115));I(new C(0,135));I(new C(0,-115));I(new C(0,-135));I(new C(115,0));I(new C(135,0));I(new C(-115,0));I(new C(-135,0));I(new y(81,81,140,-45));I(new y(-81,81,140,45));I(new y(81,-81,140,45));I(new y(-81,-81,140,-45))};function R(a){E.apply(this,arguments)}c(R,E);
R.prototype.F=function(){this.A.push([]);this.A[0].push({x:-300,y:100});this.A[0].push({x:-300,y:-100});this.C.push([]);this.C[0].push({x:1,y:0});this.C[0].push({x:1,y:0});this.A.push([]);this.A[1].push({x:300,y:100});this.A[1].push({x:300,y:-100});this.C.push([]);this.C[1].push({x:-1,y:0});this.C[1].push({x:-1,y:0});this.name="LONG DISTANCE"};
R.prototype.D=function(){I(new C(-50,0));I(new C(50,0));I(new C(100,0));I(new C(-100,0));I(new C(200,0));I(new C(-200,0));I(new C(250,0));I(new C(-250,0));I(new y(0,-100,75,90,0,0,200,1,.5));I(new y(-150,-100,75,90,0,0,200,1.5,.5));I(new y(150,-100,75,90,0,0,200,.5,.5))};function S(a){E.apply(this,arguments)}c(S,E);
S.prototype.F=function(){this.A.push([]);this.A[0].push({x:-300,y:0});this.A[0].push({x:-225,y:0});this.A[0].push({x:-225,y:50});this.A[0].push({x:225,y:50});this.A[0].push({x:225,y:0});this.A[0].push({x:300,y:0});this.A[0].push({x:225,y:0});this.A[0].push({x:225,y:-50});this.A[0].push({x:-225,y:-50});this.A[0].push({x:-225,y:0});this.name="CIRCUIT"};
S.prototype.D=function(){for(var a=0;6>a;a++)I(new C(-125+50*a,30)),I(new C(-125+50*a,0)),I(new C(-125+50*a,-30));I(new y(0,-50,50,90));I(new y(-50,50,50,90));I(new y(50,50,50,90));I(new y(-100,-50,50,90));I(new y(100,-50,50,90));I(new y(-150,50,50,90));I(new y(150,50,50,90))};function T(a){E.apply(this,arguments)}c(T,E);
T.prototype.F=function(){this.A.push([]);this.A[0].push({x:-225,y:150});this.A[0].push({x:-225,y:50});this.A[0].push({x:-125,y:50});this.A[0].push({x:-125,y:150});this.A.push([]);this.A[1].push({x:175,y:125});this.A[1].push({x:175,y:75});this.A[1].push({x:225,y:75});this.A[1].push({x:225,y:125});this.A.push([]);this.A[2].push({x:150,y:-75});this.A[2].push({x:150,y:-125});this.A[2].push({x:200,y:-125});this.A[2].push({x:200,y:-75});this.A.push([]);this.A[3].push({x:-200,y:-85});this.A[3].push({x:-200,
y:-110});this.A[3].push({x:-175,y:-110});this.A[3].push({x:-175,y:-85});this.name="QUADS"};T.prototype.D=function(){for(var a=0;5>a;a++)I(new C(-75+50*a,100));for(a=0;6>a;a++)I(new C(-135+50*a,-97.5));for(a=0;2>a;a++)I(new C(-187.5,10-50*a));for(a=0;3>a;a++)I(new C(187.5,50-50*a))};function U(a){E.apply(this,arguments)}c(U,E);
U.prototype.F=function(){this.A.push([]);this.A[0].push({x:-300,y:100});this.A[0].push({x:-145,y:100});this.A[0].push({x:-135,y:80});this.A[0].push({x:-115,y:80});this.A[0].push({x:-105,y:100});this.A[0].push({x:105,y:100});this.A[0].push({x:115,y:80});this.A[0].push({x:135,y:80});this.A[0].push({x:145,y:100});this.A[0].push({x:300,y:100});this.A[0].push({x:300,y:20});this.A[0].push({x:280,y:10});this.A[0].push({x:280,y:-10});this.A[0].push({x:300,y:-20});this.A[0].push({x:300,y:-100});this.A[0].push({x:145,
y:-100});this.A[0].push({x:135,y:-80});this.A[0].push({x:115,y:-80});this.A[0].push({x:105,y:-100});this.A[0].push({x:-105,y:-100});this.A[0].push({x:-115,y:-80});this.A[0].push({x:-135,y:-80});this.A[0].push({x:-145,y:-100});this.A[0].push({x:-300,y:-100});this.A[0].push({x:-300,y:-20});this.A[0].push({x:-280,y:-10});this.A[0].push({x:-280,y:10});this.A[0].push({x:-300,y:20});this.name="RAZOR"};
U.prototype.D=function(){for(var a=0;10>a;a++)I(new C(-225+50*a,0));I(new C(-125,40));I(new C(-125,-40));I(new C(125,40));I(new C(125,-40))};function V(a){E.apply(this,arguments)}c(V,E);
V.prototype.F=function(){this.A.push([]);this.C.push([]);for(var a=8*Math.PI/180,b=0;45>b;b++){var e=b*a;this.A[0].push({x:70*Math.cos(e),y:70*Math.sin(e)})}this.A.push([]);this.A[1].push({x:-300,y:50});this.A[1].push({x:-300,y:-50});this.C.push([]);this.C[1].push({x:1,y:0});this.C[1].push({x:1,y:0});this.A.push([]);this.A[2].push({x:215,y:-135});this.A[2].push({x:135,y:-215});this.C.push([]);this.C[2].push({x:-.707,y:.707});this.C[2].push({x:-.707,y:.707});this.A.push([]);this.A[3].push({x:175,y:125});
this.A[3].push({x:125,y:175});this.C.push([]);this.C[3].push({x:-.707,y:-.707});this.C[3].push({x:-.707,y:-.707});this.name="ALIENS"};V.prototype.D=function(){I(new C(-112,0));I(new C(-162,0));I(new C(-212,0));I(new C(-262,0));I(new C(80,-80));I(new C(110,-110));I(new C(140,-140));I(new C(85,85));I(new C(120,120));I(new y(-188,150,75,90,0,0,-300,.5,.5));I(new y(0,205,75,-45,0,215,-215,.5,.5))};function W(a){E.apply(this,arguments)}c(W,E);
W.prototype.F=function(){this.A.push([]);this.A[0].push({x:-280,y:150});this.A[0].push({x:-280,y:-150});this.A[0].push({x:-260,y:-150});this.A[0].push({x:-260,y:150});this.A.push([]);this.A[1].push({x:-100,y:100});this.A[1].push({x:-100,y:-100});this.A[1].push({x:-80,y:-100});this.A[1].push({x:-80,y:100});this.A.push([]);this.A[2].push({x:80,y:50});this.A[2].push({x:80,y:-50});this.A[2].push({x:100,y:-50});this.A[2].push({x:100,y:50});this.A.push([]);this.A[3].push({x:260,y:25});this.A[3].push({x:260,
y:-25});this.A[3].push({x:280,y:-25});this.A[3].push({x:280,y:25});this.name="BAR GAPS"};W.prototype.D=function(){I(new C(-130,0));I(new C(-180,0));I(new C(-230,0));I(new C(-130,80));I(new C(-180,80));I(new C(-230,80));I(new C(-130,-80));I(new C(-180,-80));I(new C(-230,-80));I(new C(-50,-30));I(new C(0,-30));I(new C(50,-30));I(new C(-50,30));I(new C(0,30));I(new C(50,30));I(new C(130,0));I(new C(180,0));I(new C(230,0))};function X(a){E.apply(this,arguments)}c(X,E);
X.prototype.F=function(){this.A.push([]);this.A[0].push({x:-275,y:-200});this.A[0].push({x:-250,y:-200});this.C.push([]);this.C[0].push({x:0,y:1});this.C[0].push({x:0,y:1});this.A.push([]);this.A[1].push({x:-275,y:0});this.A[1].push({x:-250,y:25});this.C.push([]);this.C[1].push({x:.707,y:-.707});this.C[1].push({x:.707,y:-.707});this.A.push([]);this.A[2].push({x:-150,y:-200});this.A[2].push({x:-25,y:-200});this.C.push([]);this.C[2].push({x:0,y:1});this.C[2].push({x:0,y:1});this.A.push([]);this.A[3].push({x:-75,
y:100});this.A[3].push({x:-50,y:125});this.C.push([]);this.C[3].push({x:.707,y:-.707});this.C[3].push({x:.707,y:-.707});this.A.push([]);this.A[4].push({x:160,y:-200});this.A[4].push({x:285,y:-200});this.C.push([]);this.C[4].push({x:0,y:1});this.C[4].push({x:0,y:1});this.A.push([]);this.A[5].push({x:160,y:180});this.A[5].push({x:285,y:180});this.C.push([]);this.C[5].push({x:0,y:-1});this.C[5].push({x:0,y:-1});this.O=this.M=12;this.name="ZIG ZAG"};
X.prototype.D=function(){for(var a=0;3>a;a++)I(new C(-262,-150+50*a));for(a=1;4>a;a++)I(new C(-262+50*a,12-50*a));for(a=0;5>a;a++)I(new C(-62,-150+50*a));for(a=1;6>a;a++)I(new C(-62+50*a,112-50*a));for(a=0;7>a;a++)I(new C(222,-150+50*a));I(new y(-225,-75,100,0,-180));I(new y(-12,0,125,0,180));I(new y(222,50,100,0,0,-100,0,1,.5));I(new y(222,-50,100,0,0,100,0,1,.5))};function Ga(a){E.apply(this,arguments)}c(Ga,E);
Ga.prototype.F=function(){this.A.push([]);for(var a=4*Math.PI/180,b=0;22.5>b;b++){var e=1.745*Math.PI-b*a;this.A[0].push({x:300*Math.cos(e),y:300*Math.sin(e)+150})}this.A[0].push({x:-50,y:150});this.A[0].push({x:50,y:150});this.name="SHELL"};
Ga.prototype.D=function(){var a=-60,b=95,e=50,g=Math.cos(235*Math.PI/180)*e;e*=Math.sin(235*Math.PI/180);for(var h=0;4>h;h++)I(new C(-a-g*h,b+e*h)),I(new C(a+g*h,b+e*h));a=-17;b=85;e=50;g=Math.cos(255*Math.PI/180)*e;e*=Math.sin(255*Math.PI/180);for(h=0;4>h;h++)I(new C(-a-g*h,b+e*h)),I(new C(a+g*h,b+e*h));I(new y(0,0,150,90));I(new y(75,20,150,-60));I(new y(-75,20,150,60))};function Ha(a){E.apply(this,arguments)}c(Ha,E);
Ha.prototype.F=function(){this.A.push([]);this.A[0].push({x:-250,y:0});this.A[0].push({x:-250,y:50});this.A[0].push({x:250,y:50});this.A[0].push({x:-250,y:50});this.C.push([]);this.C[0].push({x:1,y:0});this.C[0].push({x:0,y:-1});this.C[0].push({x:0,y:-1});this.C[0].push({x:1,y:0});this.A.push([]);this.A[1].push({x:250,y:0});this.A[1].push({x:250,y:-50});this.A[1].push({x:-250,y:-50});this.A[1].push({x:250,y:-50});this.C.push([]);this.C[1].push({x:-1,y:0});this.C[1].push({x:0,y:1});this.C[1].push({x:0,
y:1});this.C[1].push({x:-1,y:0});this.name="X FACTOR"};Ha.prototype.D=function(){I(new C(0,-25));I(new C(0,25));I(new C(100,-25));I(new C(100,25));I(new C(-100,-25));I(new C(-100,25));I(new C(200,-25));I(new C(200,25));I(new C(-200,-25));I(new C(-200,25));I(new y(200,0,80,0,270,-400,0,.75,0));I(new y(200,0,80,90,270,-400,0,.75,0))};function Ia(a){E.apply(this,arguments)}c(Ia,E);
Ia.prototype.F=function(){this.A.push([]);this.A[0].push({x:-150,y:150});this.A[0].push({x:-200,y:150});this.A[0].push({x:-200,y:100});this.A[0].push({x:-200,y:150});this.C.push([]);this.C[0].push({x:0,y:-1});this.C[0].push({x:1,y:0});this.C[0].push({x:1,y:0});this.C[0].push({x:0,y:-1});this.A.push([]);this.A[1].push({x:-150,y:0});this.A[1].push({x:-200,y:0});this.A[1].push({x:-200,y:50});this.A[1].push({x:-200,y:0});this.C.push([]);this.C[1].push({x:0,y:1});this.C[1].push({x:1,y:0});this.C[1].push({x:1,
y:0});this.C[1].push({x:0,y:1});this.A.push([]);this.A[2].push({x:150,y:50});this.A[2].push({x:200,y:50});this.A[2].push({x:200,y:0});this.A[2].push({x:200,y:50});this.C.push([]);this.C[2].push({x:0,y:-1});this.C[2].push({x:-1,y:0});this.C[2].push({x:-1,y:0});this.C[2].push({x:0,y:-1});this.A.push([]);this.A[3].push({x:150,y:-100});this.A[3].push({x:200,y:-100});this.A[3].push({x:200,y:-50});this.A[3].push({x:200,y:-100});this.C.push([]);this.C[3].push({x:0,y:1});this.C[3].push({x:-1,y:0});this.C[3].push({x:-1,
y:0});this.C[3].push({x:0,y:1});this.A.push([]);this.A[4].push({x:-150,y:-50});this.A[4].push({x:-200,y:-50});this.A[4].push({x:-200,y:-100});this.A[4].push({x:-200,y:-50});this.C.push([]);this.C[4].push({x:0,y:-1});this.C[4].push({x:1,y:0});this.C[4].push({x:1,y:0});this.C[4].push({x:0,y:-1});this.A.push([]);this.A[5].push({x:-150,y:-200});this.A[5].push({x:-200,y:-200});this.A[5].push({x:-200,y:-150});this.A[5].push({x:-200,y:-200});this.C.push([]);this.C[5].push({x:0,y:1});this.C[5].push({x:1,
y:0});this.C[5].push({x:1,y:0});this.C[5].push({x:0,y:1});this.A.push([]);this.A[6].push({x:150,y:-200});this.A[6].push({x:200,y:-200});this.A[6].push({x:200,y:-150});this.A[6].push({x:200,y:-200});this.C.push([]);this.C[6].push({x:0,y:1});this.C[6].push({x:-1,y:0});this.C[6].push({x:-1,y:0});this.C[6].push({x:0,y:1});this.O=this.M=12;this.name="SNAKE"};
Ia.prototype.D=function(){I(new C(-175,125));I(new C(-175,75));I(new C(-175,25));for(var a=0;7>a;a++)I(new C(-125+50*a,25)),I(new C(-125+50*a,-75)),I(new C(-125+50*a,-175));I(new C(175,-25));I(new C(-175,-75));I(new C(-175,-125));I(new C(-175,-175));I(new y(0,-25,150,0,180))};function Ja(a){E.apply(this,arguments)}c(Ja,E);Ja.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100});this.name="REVENGE OF THE BOX"};
Ja.prototype.D=function(){I(new C(0,0));I(new C(-50,0));I(new C(50,0));I(new C(-25,0));I(new C(25,0));I(new C(0,50));I(new C(-50,50));I(new C(50,50));I(new C(-25,50));I(new C(25,50));I(new C(0,-50));I(new C(-50,-50));I(new C(50,-50));I(new C(-25,-50));I(new C(25,-50));I(new y(-32,32,50,0,180));I(new y(38,-50,50,90,0,0,50,1,.5))};
function Ka(){var a=n,b=q;this.canvas=document.createElement("canvas");this.canvas.setAttribute("width",a);this.canvas.setAttribute("height",b);this.canvas.style.width=1*a+"px";this.canvas.style.height=1*b+"px";this.canvas.style.backgroundColor="black";document.getElementById("game").appendChild(this.canvas);this.B=this.canvas.getContext("2d");this.width=a;this.height=b;this.scale=1;this.entities=[];this.Da=this.pa=!1;La(this);this.J=new (window.AudioContext||window.webkitAudioContext);this.hb={c:16.35,
"c#":17.32,d:18.35,"d#":19.45,e:20.6,f:21.83,"f#":23.12,g:24.5,"g#":25.96,a:27.5,"a#":29.14,b:30.87};a=12*this.J.sampleRate;this.Ma=this.J.createBuffer(1,a,this.J.sampleRate);this.gb=this.Ma.getChannelData(0);for(b=0;b<a;b++)this.gb[b]=-1+2*Math.random();Ma(this);this.Ea(performance.now())}
function Ma(a){a.I={};[].forEach(function(b){a.I[b]={};a.I[b].loaded=!1;b.endsWith(".png")||b.endsWith(".jpg")?(a.I[b].data=new Image,a.I[b].data.onload=function(){return a.I[b].loaded=!0},a.I[b].data.src=b):b.endsWith(".wav")||b.endsWith(".mp3")?(a.I[b].data=new Audio,a.I[b].data.src=b,a.I[b].data.load(),a.I[b].loaded=!0):console.assert(!1,"Unable to load "+b+" - unknown type")})}function Na(a){return 0<Object.keys(a.I).length&&0==Object.values(a.I).every(function(a){return a.loaded})}
Ka.prototype.Ea=function(a){window.requestAnimationFrame(this.Ea.bind(this));if(!Na(this)){var b=Math.min((a-(this.eb||a))/1E3,.2);this.eb=a;this.B.clearRect(-this.width,-this.height,2*this.width,2*this.height);void 0!==this.state&&this.state(b);Oa(this);Pa(this,b);Qa(this);void 0!==this.ka&&this.ka(b);Ra(this)}};
function I(a){var b=l;Object.defineProperty(a,"z",{set:function(e){a.Ba=e;b.pa=!0},get:function(){return a.Ba}});a.Ba=0<b.entities.length?b.entities[b.entities.length-1].z+1:0;b.entities.push(a)}function Pa(a,b){a.entities.forEach(function(a){void 0!==a.update&&a.update(b)});a.Da&&(a.entities=a.entities.filter(function(a){return!0!==a.T}),a.Da=!1)}function Qa(a){a.entities.forEach(function(a){void 0!==a.ba&&a.ba()})}function Oa(a){a.pa&&(a.entities.sort(function(a,e){return a.z-e.z}),a.pa=!1)}
function Y(a){var b=l,e=void 0!==a.angle?a.angle*Math.PI/180:0,g=void 0!==a.$a?a.$a:"Arial",h=void 0!==a.fontSize?a.fontSize:12,m=void 0!==a.fontStyle?a.fontStyle:"",r=void 0!==a.color?a.color:"#FFF",t=void 0!==a.textAlign?a.textAlign.toLowerCase():"left",p=void 0!==a.textBaseline?a.textBaseline.toLowerCase():"bottom";b.B.save();b.B.translate(a.x,a.y);b.B.rotate(e);b.B.font=m+" "+h+"px "+g;b.B.fillStyle=r;b.B.textAlign=t;b.B.textBaseline=p;b.B.fillText(a.text,0,0);b.B.restore()}
function B(a,b,e,g,h){var m=l,r=m.J.createOscillator();a=m.hb[a.toLowerCase()];void 0!==b&&(a*=Math.pow(2,b));r.type=void 0!==h?h:"triangle";r.frequency.setValueAtTime(a,m.J.currentTime);r.connect(m.J.destination);r.start(m.J.currentTime+(void 0!==g?g:0));r.stop(m.J.currentTime+(void 0!==g?g:0)+(void 0!==e?e:.2))}
function La(a){a.ha={x:0,y:0};a.X={x:0,y:0};a.Ia=!1;a.Ja=!1;a.N=!1;a.Ka=!1;window.addEventListener("mousemove",function(b){a.X.x+=b.Db;a.X.y+=b.Eb;a.ha={x:b.clientX,y:b.clientY}});window.addEventListener("mousedown",function(b){0===b.button?(a.Ia=!0,a.N=!0):2===b.button&&(a.Ja=!0,a.Ka=!0)});window.addEventListener("mouseup",function(b){0===b.button?a.Ia=!1:2===b.button&&(a.Ja=!1)});a.sa={a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",
t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right"," ":"space",escape:"escape",control:"ctrl",shift:"shift",alt:"alt",tab:"tab",enter:"enter",backspace:"backspace"};a.keys={};a.G={};Object.keys(a.sa).forEach(function(b){return a.keys[b]=!1});window.addEventListener("keydown",function(b){Sa(a,b,!0)});window.addEventListener("keyup",function(b){Sa(a,b,!1)})}
function Sa(a,b,e){var g=b.key.toLowerCase();void 0!==a.sa[g]&&(g=a.sa[g],a.G[g]=!1===a.keys[g]||void 0===a.keys[g],a.keys[g]=e,"up"!==g&&"down"!==g&&"left"!==g&&"right"!==g||b.preventDefault())}function Ra(a){a.X.x=0;a.X.y=0;a.N=!1;a.Ka=!1;Object.keys(a.G).forEach(function(b){a.G[b]=!1})}var n=640,q=480,l=new Ka;l.state=Ta;var x,F,Z=0,Ua=0,D=5,k=0,Va={ib:G,jb:J,kb:K,lb:L,mb:M,nb:N,ob:O,pb:P,qb:Q,rb:R,sb:S,tb:T,ub:U,vb:V,wb:W,xb:X,yb:Ga,zb:Ha,Ab:Ia,Bb:Ja},Wa=[];
function Ta(){l.state=Xa;l.B.shadowBlur=20;B("a",4,.05,0);B("b",4,.05,.05)}var Ya=[{text:"EASY MODE",width:255,qa:"(SLOW SPEED + 10 LIVES)"},{text:"HARD MODE",width:260,qa:"(FAST SPEED + 5 LIVES)"},{text:"ULTRA MEGA MODE",width:388,qa:"(FAST SPEED + TIMED LEVELS)"}],Za=-1;
function Xa(a){$a(a);l.B.save();ra();l.B.shadowColor="#08F";Y({text:"OFF THE LINE",x:15,y:10,fontSize:70,fontStyle:"bold italic",color:"#08F",textAlign:"left",textBaseline:"top"});l.B.shadowColor="#08F";Y({text:"A GAME BY BRYAN PERFETTO",x:25,y:85,fontSize:20,fontStyle:"bold italic",color:"#08F",textAlign:"left",textBaseline:"top"});a=-1;for(var b=0;b<Ya.length;b++){var e=l.ha.y>=350+40*b&&l.ha.y<350+40*(b+1)&&l.ha.x<Ya[b].width,g=e?"#FF0":"#FFF";l.B.shadowColor=g;Y({text:Ya[b].text,x:15,y:350+40*
b,fontSize:35,fontStyle:"bold italic",color:g,textAlign:"left",textBaseline:"top"});e&&(a=b,l.B.shadowColor="#888",Y({text:Ya[b].qa,x:-15+Ya[b].width,y:40*b+362,fontSize:12,fontStyle:"bold italic",color:"#888",textAlign:"left",textBaseline:"top"}))}l.B.restore();a!==Za&&(-1!==a&&B("a",5,.025),Za=a);-1!==a&&l.N&&(k=a,D=0===k?10:5,Z=0,ab(),l.N=!1,l.B.shadowBlur=0,l.state=bb,l.ka=cb)}
function bb(a){l.B.shadowBlur=10;$a(a);if(l.G.right)Z=(Z+1)%Object.keys(Va).length,ab();else if(l.G.left)Z--,0>Z&&(Z=Object.keys(Va).length-1),ab();else if(l.G.r)ab();else if(l.G.Fb){for(var b=0;3>b;b++)B("d",5,.05,.3*b),B("e",5,.05,.3*b+.05),B("g",5,.05,.3*b+.1),B("a",5,.05,.3*b+.15),B("b",5,.05,.3*b+.2),B("d",5,.05,.3*b+.25);B("c",6,.5,.9)}else l.G.Jb?D--:l.G.e?D++:l.G.escape&&2===k&&(l.entities=[],l.N=!1,l.B.shadowBlur=20,l.state=Xa,l.ka=void 0,B("a",4,.05,0),B("b",4,.05,.05));if(F.S||Fa())if(Ua-=
a,0>=Ua)if(Fa()&&19===Z){l.state=db;for(b=0;3>b;b++)B("d",5,.05,.3*b),B("e",5,.05,.3*b+.05),B("g",5,.05,.3*b+.1),B("a",5,.05,.3*b+.15),B("b",5,.05,.3*b+.2),B("d",5,.05,.3*b+.25);B("c",6,.5,.9)}else 0===D&&2!==k?(l.state=db,B("a#",4,.05,0),B("g",4,.05,.05),B("e",4,.05,.1),B("d",4,.15,.15)):(F.S||(Z=(Z+1)%Object.keys(Va).length),ab());wa(a);ya(a);sa()}
function ab(){var a=Z;l.entities=[];ta=1.15;xa=.2;ya(0);wa(0);ya(0);sa();0==a?x=new G:1==a?x=new J:2==a?x=new K:3==a?x=new L:4==a?x=new M:5==a?x=new N:6==a?x=new O:7==a?x=new P:8==a?x=new Q:9==a?x=new R:10==a?x=new W:11==a?x=new U:12==a?x=new Ga:13==a?x=new Ja:14==a?x=new T:15==a?x=new X:16==a?x=new Ha:17==a?x=new S:18==a?x=new Ia:19==a&&(x=new V);I(x);F=new w;I(F);Ua=1;window.localStorage.setItem("best_"+k,Math.max(Z.toString(),qa()));B("d",4,.05,0);B("e",4,.05,.05);B("g",4,.05,.1);B("a#",4,.15,
.15)}
function cb(a){Aa(a);ra();2==k&&(a=q-30,l.B.fillStyle="#FFF",l.B.fillRect(10,a,x.O/x.M*(n-20),20));l.B.shadowColor="#FFF";Y({text:"LEVEL "+(Z+1)+" - "+(x?x.name:""),x:10,y:30,fontSize:24,fontStyle:"bold"});Y({text:"BEST: "+(qa()+1),x:10,y:50,fontSize:15,fontStyle:"bold",color:"#FFF"});if(2===k)l.B.shadowColor="#08F",Y({text:"UNLIMITED LIVES",x:630,y:25,fontSize:15,fontStyle:"bold",color:"#08F",textAlign:"right"}),Y({text:"PRESS 'ESC' TO QUIT",x:630,y:45,fontSize:15,fontStyle:"bold",color:"#08F",textAlign:"right"});
else{a=0===k?10:5;for(var b=0===k?440:536,e=0;e<a;e++)e<D?(l.B.lineWidth=3,l.B.strokeStyle="#08F",l.B.shadowColor="#08F",l.B.save(),l.B.translate(b+4+20*e,18),l.B.beginPath(),l.B.rect(-5,-5,10,10),l.B.stroke(),l.B.restore()):(l.B.shadowColor="#F00",Y({text:"x",x:b+19.6*e,y:30,fontSize:24,fontStyle:"bold",color:"#F00"}))}l.state===db&&(19===Z?(l.B.shadowColor="#555",l.B.fillStyle="#555",l.B.fillRect(0,100,n,110),a=250>Date.now()%500?"#08F":"#FF0",l.B.shadowColor=a,Y({text:"CONGRATULATIONS!",x:.5*n,
y:150,fontSize:40,fontStyle:"bold",color:a,textAlign:"center"}),l.B.shadowColor="#FFF",a="EASY MODE",1===k?a="HARD MODE":2===k&&(a="ULTRA MEGA MODE"),Y({text:a+" COMPLETE",x:.5*n,y:180,fontSize:20,fontStyle:"bold",color:"#FFF",textAlign:"center"}),Y({text:"CLICK TO QUIT TO MAIN MENU",x:.5*n,y:200,fontSize:14,fontStyle:"bold",color:"#FFF",textAlign:"center"})):(l.B.shadowColor="#333",l.B.fillStyle="#333",l.B.fillRect(0,52,n,140),l.B.shadowColor="#F00",Y({text:"GAME OVER",x:.5*n,y:100,fontSize:40,fontStyle:"bold",
color:"#F00",textAlign:"center"}),l.B.shadowColor="#FFF",a="EASY MODE",1===k?a="HARD MODE":2===k&&(a="ULTRA MEGA MODE"),Y({text:a,x:.5*n,y:130,fontSize:20,fontStyle:"bold",color:"#FFF",textAlign:"center"}),Y({text:"SCORE: "+(Z+1),x:.5*n,y:155,fontSize:20,fontStyle:"bold",color:"#FFF",textAlign:"center"}),Y({text:"BEST: "+(qa()+1),x:.5*n,y:180,fontSize:20,fontStyle:"bold",color:"#FFF",textAlign:"center"})))}
function db(a){$a(a);l.N&&(l.entities=[],l.N=!1,l.B.shadowBlur=20,l.state=Xa,l.ka=void 0,B("a",4,.05,0),B("b",4,.05,.05));wa(a);ya(a);sa()}var eb=400,fb=4E3,gb=2;
function $a(a){l.B.save();ra();for(var b=0;b<gb;b++)Wa.push({x:n,y:Math.random()*q,T:!1});l.B.lineWidth=2;l.B.strokeStyle=l.state===Xa?"#111":"#090909";b=l.B.shadowBlur;l.B.shadowBlur=0;Wa.forEach(function(b){b.x-=fb*a;b.x<-eb&&(b.T=!0);l.B.beginPath();l.B.moveTo(b.x,b.y);l.B.lineTo(b.x+eb,b.y);l.B.stroke()});Wa=Wa.filter(function(a){return!0!==a.T});l.B.restore();l.B.shadowBlur=b};