'use strict';var aa="function"==typeof Object.create?Object.create:function(a){function d(){}d.prototype=a;return new d},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={Ia:!0},ea={};try{ea.__proto__=da;ca=ea.Ia;break a}catch(a){}ca=!1}ba=ca?function(a,d){a.__proto__=d;if(a.__proto__!==d)throw new TypeError(a+" is not extensible");return a}:null}var ha=ba;
function b(a,d){a.prototype=aa(d.prototype);a.prototype.constructor=a;if(ha)ha(a,d);else for(var f in d)if("prototype"!=f)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(d,f);g&&Object.defineProperty(a,f,g)}else a[f]=d[f];a.ob=d.prototype}var ia="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,f){a!=Array.prototype&&a!=Object.prototype&&(a[d]=f.value)},c="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function ja(){ja=function(){};c.Symbol||(c.Symbol=ka)}var ka=function(){var a=0;return function(d){return"jscomp_symbol_"+(d||"")+a++}}();function la(){ja();var a=c.Symbol.iterator;a||(a=c.Symbol.iterator=c.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ia(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ma(this)}});la=function(){}}function ma(a){var d=0;return na(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})}
function na(a){la();a={next:a};a[c.Symbol.iterator]=function(){return this};return a}function oa(a,d){if(d){var f=c;a=a.split(".");for(var g=0;g<a.length-1;g++){var h=a[g];h in f||(f[h]={});f=f[h]}a=a[a.length-1];g=f[a];d=d(g);d!=g&&null!=d&&ia(f,a,{configurable:!0,writable:!0,value:d})}}oa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});
oa("String.prototype.endsWith",function(a){return a?a:function(a,f){if(null==this)throw new TypeError("The 'this' value for String.prototype.endsWith must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.endsWith must not be a regular expression");var d=this+"";a+="";void 0===f&&(f=d.length);f=Math.max(0,Math.min(f|0,d.length));for(var h=a.length;0<h&&0<f;)if(d[--f]!=a[--h])return!1;return 0>=h}});
function pa(a,d){la();a instanceof String&&(a+="");var f=0,g={next:function(){if(f<a.length){var h=f++;return{value:d(h,a[h]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g}oa("Array.prototype.keys",function(a){return a?a:function(){return pa(this,function(a){return a})}});oa("Object.values",function(a){return a?a:function(a){var d=[],g;for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&d.push(a[g]);return d}});
function qa(a,d,f,g,h,l,p,q){var n={X:!1};var u=(f-a)*(q-l)-(p-h)*(g-d);if(0!==u){var w=((q-l)*(p-a)+(h-p)*(q-d))/u;a=((d-g)*(p-a)+(f-a)*(q-d))/u;0<w&&1>w&&0<a&&1>a&&(n.x=h+(p-h)*a,n.y=l+(q-l)*a,n.time=a,n.X=!0)}return n}function e(){this.ha=this.ga=this.y=this.x=0;this.G=10;this.speed=400;this.Pa=.2;this.Y=Number.MAX_SAFE_INTEGER;this.R=this.J=0;this.V=this.Ba;this.la={x:0,y:0};this.ua=1500;this.S=!1;this.angle=0;this.U=180}
e.prototype.update=function(a){this.ga=this.x;this.ha=this.y;this.angle+=this.U*a;void 0!==this.V&&this.V(a)};e.prototype.Ba=function(a){this.J+=this.speed*a;0>this.J&&(this.J+=k.K[this.R]);this.J%=k.K[this.R];var d=ra(this.R,this.J);this.x=d.x;this.y=d.y;this.Y+=a;m.O&&(this.Y=0);this.Y<=this.Pa&&(this.la={x:d.ya*this.ua,y:d.za*this.ua},this.speed=-this.speed,this.V=this.Na)};
e.prototype.Na=function(a){var d=this;this.x+=this.la.x*a;this.y+=this.la.y*a;m.entities.forEach(function(a){a instanceof r&&qa(d.ga,d.ha,d.x,d.y,a.Ca,a.Fa,a.Da,a.Ga).X&&d.W()});(this.x<.5*-t-this.G||this.x>.5*t+this.G||this.y<.5*-v-this.G||this.y>.5*v+this.G)&&this.W();this.S||(m.entities.forEach(function(a){if(a instanceof x){var f=a.x,h=a.y,l=d.ga,p=d.ha,q=d.x-l,n=d.y-p,u=Math.sqrt(q*q+n*n);q/=u;n/=u;var w=f-l,fa=h-p,sa=Math.sqrt(w*w+fa*fa);w=w/sa*q+fa/sa*n;f-=l+q*w*u;h-=p+n*w*u;Math.sqrt(f*f+
h*h)<=a.La&&a.W()}}),a=ta(this.ga,this.ha,this.x,this.y),a.X&&(a.group!==this.R||1<Math.abs(this.J-a.ra))&&(this.J=a.ra,this.R=a.group,a=ra(this.R,this.J),this.x=a.x,this.y=a.y,this.Y=Number.MAX_SAFE_INTEGER,this.V=this.Ba))};e.prototype.Ja=function(){};e.prototype.$=function(){this.S||(m.B.save(),m.B.translate(this.x,this.y),m.B.rotate(this.angle),m.B.lineWidth=2,m.B.strokeStyle="#08F",m.B.shadowColor="#08F",m.B.beginPath(),m.B.rect(.5*-this.G,.5*-this.G,this.G,this.G),m.B.stroke(),m.B.restore())};
e.prototype.W=function(){y=Math.max(y-1,0);this.S=!0;this.V=this.Ja};function x(a,d,f,g,h){this.oa=a;this.pa=d;this.x=a;this.y=d;this.G=8;this.La=20;this.angle=0;this.U=180;this.active=!0;this.offset=void 0!==f?f:0;this.fa=void 0!==g?g*Math.PI/180:0;this.Aa=void 0!==h?h*Math.PI/180:0}x.prototype.update=function(a){this.angle-=this.U*a;if(0!==this.offset){var d=Math.sin(this.fa);this.x=this.oa+Math.cos(this.fa)*this.offset;this.y=this.pa+d*this.offset;0!==this.Aa&&(this.fa+=this.Aa*a)}};
x.prototype.$=function(){this.active&&(m.B.save(),m.B.translate(this.x,this.y),m.B.rotate(this.angle*Math.PI/180),m.B.lineWidth=2,m.B.strokeStyle="#FF0",m.B.shadowColor="#FF0",m.B.beginPath(),m.B.rect(.5*-this.G,.5*-this.G,this.G,this.G),m.B.stroke(),m.B.restore())};
x.prototype.W=function(){if(this.active){this.active=!1;var a=m,d=a.aa.createOscillator(),f=a.Qa.g;f*=Math.pow(2,7);d.type="triangle";d.frequency.setValueAtTime(f,a.aa.currentTime);d.connect(a.aa.destination);d.start();d.stop(a.aa.currentTime+.05)}};
function r(a,d,f,g,h,l,p,q,n){this.oa=a;this.pa=d;this.length=f;this.ba=.5*f;this.angle=void 0!==g?g*Math.PI/180:0;this.U=void 0!==h?h*Math.PI/180:0;this.Ea=void 0!==l?l:0;this.Ha=void 0!==p?p:0;this.Z=void 0!==q?q:0;this.Ma=void 0!==n?n:0;this.L=this.Z;this.ea=this.ca=!0;this.ja=0;ua(this)}
r.prototype.update=function(a){var d=!1;0!==this.U&&(this.angle+=this.U*a,d=!0);0===this.Ea&&0===this.Ha||0===this.Z||(this.ja=this.ca?this.ea?1-this.L/this.Z:this.L/this.Z:this.ea?0:1,this.L-=a,0>=this.L&&(this.ca?(this.L=this.Ma,this.ea=!this.ea):this.L=this.Z,this.ca=!this.ca),d=!0);d&&ua(this)};function ua(a){var d=Math.cos(a.angle),f=Math.sin(a.angle),g=a.oa+a.Ea*a.ja,h=a.pa+a.Ha*a.ja;a.Ca=g-d*a.ba;a.Fa=h-f*a.ba;a.Da=g+d*a.ba;a.Ga=h+f*a.ba}
r.prototype.$=function(){m.B.save();m.B.lineWidth=2;m.B.strokeStyle="#F00";m.B.shadowColor="#F00";m.B.beginPath();m.B.moveTo(this.Ca,this.Fa);m.B.lineTo(this.Da,this.Ga);m.B.stroke();m.B.restore()};
function z(){this.A=[];this.I=[];this.K=[];this.C=[];this.P=this.N=7;this.F();for(var a=0;a<this.A.length;a++){this.K.push(0);this.I.push([]);for(var d=0;d<this.A[a].length-1;d++){var f=this.A[a][d+1].x-this.A[a][d].x,g=this.A[a][d+1].y-this.A[a][d].y;f=Math.sqrt(f*f+g*g);this.K[a]+=f;this.I[a].push(f)}d=this.A[a][0].x-this.A[a][this.A[a].length-1].x;f=this.A[a][0].y-this.A[a][this.A[a].length-1].y;d=Math.sqrt(d*d+f*f);this.K[a]+=d;this.I[a].push(d)}this.D()}z.prototype.F=function(){};
z.prototype.D=function(){};z.prototype.update=function(a){!A||va()||B.S||(this.P=Math.max(this.P-a,0),0>=this.P&&B.W())};z.prototype.$=function(){m.B.lineWidth=2;m.B.strokeStyle="#FFF";m.B.shadowColor="#FFF";for(var a=0;a<this.A.length;a++){m.B.beginPath();m.B.moveTo(this.A[a][0].x,this.A[a][0].y);for(var d=1;d<this.A[a].length;d++)m.B.lineTo(this.A[a][d].x,this.A[a][d].y);m.B.lineTo(this.A[a][0].x,this.A[a][0].y);m.B.stroke()}};
function ra(a,d){var f=k;d%=f.K[a];for(var g=0,h=0;h<f.I[a].length;h++){var l=g+f.I[a][h];if(d>=g&&d<l){var p=(d-g)/f.I[a][h];d=h;g=(h+1)%f.A[a].length;l=f.A[a][d].x+(f.A[a][g].x-f.A[a][d].x)*p;p=f.A[a][d].y+(f.A[a][g].y-f.A[a][d].y)*p;return void 0!==f.C[a]&&void 0!==f.C[a][h]?{x:l,y:p,ya:f.C[a][h].x,za:f.C[a][h].y}:{x:l,y:p,ya:(f.A[a][g].y-f.A[a][d].y)/f.I[a][h],za:-((f.A[a][g].x-f.A[a][d].x)/f.I[a][h])}}g=l}return{x:f.A[0][0].x,y:f.A[0][0].y}}
function ta(a,d,f,g){for(var h=k,l=0;l<h.I.length;l++)for(var p=0,q=0;q<h.I[l].length;q++){var n=q,u=(q+1)%h.A[l].length;n=qa(a,d,f,g,h.A[l][n].x,h.A[l][n].y,h.A[l][u].x,h.A[l][u].y);if(n.X)return n.ra=p+h.I[l][q]*(1-n.time),n.group=l,n;p+=h.I[l][q]}return{X:!1}}function va(){var a=!0;m.entities.forEach(function(d){d instanceof x&&d.active&&(a=!1)});return a}function C(a){z.apply(this,arguments)}b(C,z);
C.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};C.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function E(a){z.apply(this,arguments)}b(E,z);
E.prototype.F=function(){this.A.push([]);this.A[0].push({x:-200,y:100});this.A[0].push({x:200,y:100});this.A[0].push({x:200,y:-100});this.A[0].push({x:-200,y:-100})};E.prototype.D=function(){for(var a=[-150,-75,0,75,150],d=[-60,-20,20,60],f=0;f<d.length;f++)for(var g=0;g<a.length;g++)D(new x(a[g],d[f]))};function F(a){z.apply(this,arguments)}b(F,z);F.prototype.F=function(){this.A.push([]);for(var a=4*Math.PI/180,d=0;90>d;d++){var f=360-d*a;this.A[0].push({x:150*Math.cos(f),y:150*Math.sin(f)})}};
F.prototype.D=function(){D(new x(0,0));D(new x(0,0,50,90,70));D(new x(0,0,100,90,70));D(new x(0,0,50,270,70));D(new x(0,0,100,270,70))};function G(a){z.apply(this,arguments)}b(G,z);G.prototype.F=function(){this.A.push([]);this.A[0].push({x:-60,y:150});this.A[0].push({x:60,y:150});this.A[0].push({x:60,y:-150});this.A[0].push({x:-60,y:-150})};G.prototype.D=function(){D(new x(0,0));D(new x(0,50));D(new x(0,-50));D(new r(-40,25,40,0));D(new r(40,-25,40,0));D(new r(40,75,40,0));D(new r(-40,-75,40,0))};
function H(a){z.apply(this,arguments)}b(H,z);H.prototype.F=function(){this.A.push([]);this.A[0].push({x:-200,y:0});this.A[0].push({x:0,y:200});this.A[0].push({x:200,y:0});this.A[0].push({x:0,y:-200});this.P=this.N=12};
H.prototype.D=function(){D(new r(0,0,250,0,40));D(new x(0,120));D(new x(30,90));D(new x(60,60));D(new x(90,30));D(new x(-30,90));D(new x(-60,60));D(new x(-90,30));D(new x(-120,0));D(new x(-90,-30));D(new x(-60,-60));D(new x(-30,-90));D(new x(0,-120));D(new x(30,-90));D(new x(60,-60));D(new x(90,-30));D(new x(120,0))};function I(a){z.apply(this,arguments)}b(I,z);
I.prototype.F=function(){this.A.push([]);this.A[0].push({x:-200,y:200});this.A[0].push({x:-50,y:200});this.A[0].push({x:-50,y:20});this.A[0].push({x:200,y:20});this.A[0].push({x:200,y:-200});this.A[0].push({x:50,y:-200});this.A[0].push({x:50,y:-20});this.A[0].push({x:-200,y:-20})};
I.prototype.D=function(){D(new x(0,0));D(new x(-30,0));D(new x(-60,0));D(new x(30,0));D(new x(60,0));D(new x(90,0));D(new x(-90,0));D(new x(120,0));D(new x(-120,0));D(new r(-125,160,150));D(new r(125,-160,150));D(new x(-125,180));D(new x(125,-180));D(new r(-60,40,40,90));D(new r(60,-40,40,90))};function J(a){z.apply(this,arguments)}b(J,z);
J.prototype.F=function(){this.A.push([]);this.A[0].push({x:50,y:-100});this.A[0].push({x:-50,y:-100});this.C.push([]);this.C[0].push({x:0,y:1});this.C[0].push({x:0,y:1});this.A.push([]);this.A[1].push({x:-125,y:100});this.A[1].push({x:-25,y:100});this.C.push([]);this.C[1].push({x:0,y:-1});this.C[1].push({x:0,y:-1});this.A.push([]);this.A[2].push({x:125,y:100});this.A[2].push({x:25,y:100});this.C.push([]);this.C[2].push({x:0,y:-1});this.C[2].push({x:0,y:-1})};
J.prototype.D=function(){D(new x(-35,-50));D(new x(-35,-25));D(new x(-35,0));D(new x(-35,25));D(new x(-35,50));D(new x(35,-50));D(new x(35,-25));D(new x(35,0));D(new x(35,25));D(new x(35,50))};function K(a){z.apply(this,arguments)}b(K,z);
K.prototype.F=function(){this.A.push([]);this.A[0].push({x:-250,y:-100});this.A[0].push({x:250,y:-100});this.C.push([]);this.C[0].push({x:0,y:1});this.C[0].push({x:0,y:1});this.A.push([]);this.A[1].push({x:-140,y:100});this.A[1].push({x:-110,y:100});this.C.push([]);this.C[1].push({x:0,y:-1});this.C[1].push({x:0,y:-1});this.A.push([]);this.A[2].push({x:140,y:100});this.A[2].push({x:110,y:100});this.C.push([]);this.C[2].push({x:0,y:-1});this.C[2].push({x:0,y:-1});this.A.push([]);this.A[3].push({x:-15,
y:100});this.A[3].push({x:15,y:100});this.C.push([]);this.C[3].push({x:0,y:-1});this.C[3].push({x:0,y:-1});this.P=this.N=12};K.prototype.D=function(){D(new x(-125,-50));D(new x(-125,0));D(new x(-125,50));D(new x(0,-50));D(new x(0,0));D(new x(0,50));D(new x(125,-50));D(new x(125,0));D(new x(125,50))};function L(a){z.apply(this,arguments)}b(L,z);
L.prototype.F=function(){this.A.push([]);for(var a=150,d=90,f=360/d*Math.PI/180,g=0;g<d;g++){var h=360-g*f;this.A[0].push({x:Math.cos(h)*a,y:Math.sin(h)*a})}this.A.push([]);a=100;d=45;f=360/d*Math.PI/180;for(g=0;g<d;g++)h=g*f,this.A[1].push({x:Math.cos(h)*a,y:Math.sin(h)*a})};
L.prototype.D=function(){D(new x(0,115));D(new x(0,135));D(new x(0,-115));D(new x(0,-135));D(new x(115,0));D(new x(135,0));D(new x(-115,0));D(new x(-135,0));D(new r(81,81,140,-45));D(new r(-81,81,140,45));D(new r(81,-81,140,45));D(new r(-81,-81,140,-45))};function M(a){z.apply(this,arguments)}b(M,z);
M.prototype.F=function(){this.A.push([]);this.A[0].push({x:-300,y:100});this.A[0].push({x:-300,y:-100});this.C.push([]);this.C[0].push({x:1,y:0});this.C[0].push({x:1,y:0});this.A.push([]);this.A[1].push({x:300,y:100});this.A[1].push({x:300,y:-100});this.C.push([]);this.C[1].push({x:-1,y:0});this.C[1].push({x:-1,y:0})};
M.prototype.D=function(){D(new x(-50,0));D(new x(50,0));D(new x(100,0));D(new x(-100,0));D(new x(200,0));D(new x(-200,0));D(new x(250,0));D(new x(-250,0));D(new r(0,-100,75,90,0,0,200,1,.5));D(new r(-150,-100,75,90,0,0,200,1.5,.5));D(new r(150,-100,75,90,0,0,200,.5,.5))};function N(a){z.apply(this,arguments)}b(N,z);N.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
N.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function O(a){z.apply(this,arguments)}b(O,z);O.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
O.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function P(a){z.apply(this,arguments)}b(P,z);P.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
P.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function Q(a){z.apply(this,arguments)}b(Q,z);Q.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
Q.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function R(a){z.apply(this,arguments)}b(R,z);R.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
R.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function S(a){z.apply(this,arguments)}b(S,z);S.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
S.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function T(a){z.apply(this,arguments)}b(T,z);T.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
T.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function U(a){z.apply(this,arguments)}b(U,z);U.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
U.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function V(a){z.apply(this,arguments)}b(V,z);V.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
V.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};function W(a){z.apply(this,arguments)}b(W,z);W.prototype.F=function(){this.A.push([]);this.A[0].push({x:-100,y:100});this.A[0].push({x:100,y:100});this.A[0].push({x:100,y:-100});this.A[0].push({x:-100,y:-100})};
W.prototype.D=function(){D(new x(0,0));D(new x(-50,0));D(new x(50,0));D(new x(-25,0));D(new x(25,0));D(new x(0,50));D(new x(-50,50));D(new x(50,50));D(new x(-25,50));D(new x(25,50));D(new x(0,-50));D(new x(-50,-50));D(new x(50,-50));D(new x(-25,-50));D(new x(25,-50))};
function wa(){var a=t,d=v;this.canvas=document.createElement("canvas");this.canvas.setAttribute("width",a);this.canvas.setAttribute("height",d);this.canvas.style.width=1*a+"px";this.canvas.style.height=1*d+"px";this.canvas.style.backgroundColor="black";document.getElementById("game").appendChild(this.canvas);this.B=this.canvas.getContext("2d");this.width=a;this.height=d;this.scale=1;this.entities=[];this.sa=this.ka=!1;xa(this);this.aa=new (window.AudioContext||window.webkitAudioContext);this.Qa={c:16.35,
"c#":17.32,d:18.35,"d#":19.45,e:20.6,f:21.83,"f#":23.12,g:24.5,"g#":25.96,a:27.5,"a#":29.14,b:30.87};ya(this);this.ta(performance.now())}
function ya(a){a.H={};[].forEach(function(d){a.H[d]={};a.H[d].loaded=!1;d.endsWith(".png")||d.endsWith(".jpg")?(a.H[d].data=new Image,a.H[d].data.onload=function(){return a.H[d].loaded=!0},a.H[d].data.src=d):d.endsWith(".wav")||d.endsWith(".mp3")?(a.H[d].data=new Audio,a.H[d].data.src=d,a.H[d].data.load(),a.H[d].loaded=!0):console.assert(!1,"Unable to load "+d+" - unknown type")})}function za(a){return 0<Object.keys(a.H).length&&0==Object.values(a.H).every(function(a){return a.loaded})}
wa.prototype.ta=function(a){window.requestAnimationFrame(this.ta.bind(this));if(!za(this)){var d=Math.min((a-(this.Oa||a))/1E3,.2);this.Oa=a;this.B.clearRect(-this.width,-this.height,2*this.width,2*this.height);void 0!==this.state&&this.state(d);Aa(this);Ba(this,d);Ca(this);void 0!==this.na&&this.na(d);Da(this)}};
function D(a){var d=m;Object.defineProperty(a,"z",{set:function(f){a.qa=f;d.ka=!0},get:function(){return a.qa}});a.qa=0<d.entities.length?d.entities[d.entities.length-1].z+1:0;d.entities.push(a)}function Ba(a,d){a.entities.forEach(function(a){void 0!==a.update&&a.update(d)});a.sa&&(a.entities=a.entities.filter(function(a){return!0!==a.ia}),a.sa=!1)}function Ca(a){a.entities.forEach(function(a){void 0!==a.$&&a.$()})}function Aa(a){a.ka&&(a.entities.sort(function(a,f){return a.z-f.z}),a.ka=!1)}
function X(a){var d=m,f=void 0!==a.angle?a.angle*Math.PI/180:0,g=void 0!==a.Ka?a.Ka:"Arial",h=void 0!==a.fontSize?a.fontSize:12,l=void 0!==a.fontStyle?a.fontStyle:"",p=void 0!==a.color?a.color:"#FFF",q=void 0!==a.textAlign?a.textAlign.toLowerCase():"left",n=void 0!==a.textBaseline?a.textBaseline.toLowerCase():"bottom";d.B.save();d.B.translate(a.x,a.y);d.B.rotate(f);d.B.font=l+" "+h+"px "+g;d.B.fillStyle=p;d.B.textAlign=q;d.B.textBaseline=n;d.B.fillText(a.text,0,0);d.B.restore()}
function xa(a){a.da={x:0,y:0};a.T={x:0,y:0};a.va=!1;a.wa=!1;a.O=!1;a.xa=!1;window.addEventListener("mousemove",function(d){a.T.x+=d.mb;a.T.y+=d.nb;a.da={x:d.clientX,y:d.clientY}});window.addEventListener("mousedown",function(d){0===d.button?(a.va=!0,a.O=!0):2===d.button&&(a.wa=!0,a.xa=!0)});window.addEventListener("mouseup",function(d){0===d.button?a.va=!1:2===d.button&&(a.wa=!1)});a.ma={a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",
t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right"," ":"space",escape:"escape",control:"ctrl",shift:"shift",alt:"alt",tab:"tab",enter:"enter",backspace:"backspace"};a.keys={};a.M={};Object.keys(a.ma).forEach(function(d){return a.keys[d]=!1});window.addEventListener("keydown",function(d){Ea(a,d,!0)});window.addEventListener("keyup",function(d){Ea(a,d,!1)})}
function Ea(a,d,f){var g=d.key.toLowerCase();void 0!==a.ma[g]&&(g=a.ma[g],a.M[g]=!1===a.keys[g]||void 0===a.keys[g],a.keys[g]=f,"up"!==g&&"down"!==g&&"left"!==g&&"right"!==g||d.preventDefault())}function Da(a){a.T.x=0;a.T.y=0;a.O=!1;a.xa=!1;Object.keys(a.M).forEach(function(d){a.M[d]=!1})}var t=640,v=480,m=new wa;m.state=Fa;var k,B,Y=9,Ga=0,y=5,A=!1,Ha={Ra:C,Sa:E,Ta:F,Ua:G,Va:H,Wa:I,Xa:J,Ya:K,Za:L,$a:M,ab:N,bb:O,cb:P,eb:Q,fb:R,gb:S,hb:T,ib:U,jb:V,kb:W},Ia=[];
function Fa(){m.state=Ja;m.B.translate(.5*t,.5*v);m.B.scale(1,-1);m.B.shadowBlur=20}var Ka=[{text:"PLAY",width:150},{text:"HARDCORE MODE",width:360},{text:"CREDITS",width:210}];
function Ja(a){La(a);m.B.save();m.B.setTransform(1,0,0,1,0,0);m.B.shadowColor="#08F";X({text:"OFF THE LINE",x:15,y:10,fontSize:70,fontStyle:"bold italic",color:"#08F",textAlign:"left",textBaseline:"top"});a=-1;for(var d=0;d<Ka.length;d++){var f=m.da.y>=350+40*d&&m.da.y<350+40*(d+1)&&m.da.x<Ka[d].width,g=f?"#FF0":"#FFF";f&&(a=d);m.B.shadowColor=g;X({text:Ka[d].text,x:15,y:350+40*d,fontSize:35,fontStyle:"bold italic",color:g,textAlign:"left",textBaseline:"top"})}!m.O||0!==a&&1!==a||(y=5,Y=0,Z(),m.O=
!1,A=1==a,m.B.shadowBlur=0,m.state=Ma,m.na=Na);m.B.restore()}function Ma(a){m.B.shadowBlur=10;La(a);m.M.right?(Y=(Y+1)%Object.keys(Ha).length,Z()):m.M.left?(Y--,0>Y&&(Y=Object.keys(Ha).length-1),Z()):m.M.r?Z():m.M.lb&&(A=!A)&&(k.P=k.N);if(B.S||va())Ga-=a,0>=Ga&&(0===y?m.state=Oa:(B.S||(Y=(Y+1)%Object.keys(Ha).length,0===Y%10&&(y=Math.min(y+1,5))),Z()))}
function Z(){var a=Y;m.entities=[];B=new e;D(B);0==a?k=new C:1==a?k=new E:2==a?k=new F:3==a?k=new G:4==a?k=new H:5==a?k=new I:6==a?k=new J:7==a?k=new K:8==a?k=new L:9==a?k=new M:10==a?k=new N:11==a?k=new O:12==a?k=new P:13==a?k=new Q:14==a?k=new R:15==a?k=new S:16==a?k=new T:17==a?k=new U:18==a?k=new V:19==a&&(k=new W);D(k);Ga=.5}
function Na(){m.B.save();m.B.setTransform(1,0,0,1,0,0);if(A){var a=v-30;m.B.fillStyle="#FFF";m.B.fillRect(10,a,k.P/k.N*(t-20),20)}m.B.shadowColor="#FFF";X({text:"Level "+(Y+1),x:10,y:30,fontSize:24,fontStyle:"bold"});for(a=0;5>a;a++)a<y?(m.B.lineWidth=3,m.B.strokeStyle="#08F",m.B.shadowColor="#08F",m.B.save(),m.B.translate(540+20*a,18),m.B.beginPath(),m.B.rect(-5,-5,10,10),m.B.stroke(),m.B.restore()):(m.B.shadowColor="#F00",X({text:"x",x:536+19.5*a,y:30,fontSize:24,fontStyle:"bold",color:"#F00"}));
0===y&&(m.B.shadowColor="#111",m.B.fillStyle="#111",m.B.fillRect(0,52,t,50),m.B.shadowColor="#F00",X({text:"GAME OVER",x:.5*t,y:100,fontSize:40,fontStyle:"bold",color:"#F00",textAlign:"center"}));m.B.restore()}function Oa(a){La(a);m.O&&(m.entities=[],m.O=!1,m.B.shadowBlur=20,m.state=Ja,m.na=void 0)}var Pa=400,Qa=4E3,Ra=2;
function La(a){m.B.save();m.B.setTransform(1,0,0,1,0,0);for(var d=0;d<Ra;d++)Ia.push({x:t,y:Math.random()*v,ia:!1});m.B.lineWidth=2;m.B.strokeStyle=m.state===Ja?"#111":"#090909";d=m.B.shadowBlur;m.B.shadowBlur=0;Ia.forEach(function(d){d.x-=Qa*a;d.x<-Pa&&(d.ia=!0);m.B.beginPath();m.B.moveTo(d.x,d.y);m.B.lineTo(d.x+Pa,d.y);m.B.stroke()});Ia=Ia.filter(function(a){return!0!==a.ia});m.B.restore();m.B.shadowBlur=d};